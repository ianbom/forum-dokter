import{c as nt,u as ot,r as c,j as t,a as d,H as ct}from"./app-dCVrG_mc.js";import{B as mt}from"./badge-CiYItFyo.js";import{B as o}from"./button-C3Qb9PzC.js";import{C as $e,a as dt,b as ht}from"./card-CKMJNTCX.js";import{D as Ve,a as Ue,b as Je,c as qe,d as Ge,e as Qe}from"./dialog-pI7sWoRA.js";import{I as He}from"./input-r_jZFIwI.js";import{L as We}from"./label-BoEfJzer.js";import{S as Xe,a as Ye,b as Ze,c as et,d as z}from"./select-Cyj3mnca.js";import{T as ze,a as m,b as xt,c as I,d as ft,e as ut}from"./table-C2Y5n7Gg.js";import{A as pt}from"./app-layout-B0qM3CRQ.js";import{P as tt}from"./pencil-GJJGtnmQ.js";import{L as Ie}from"./loader-circle-VFFUnhu1.js";import{T as gt}from"./trash-2-BK2oSlPq.js";import{F as st}from"./folder-open-kYPe60V2.js";import{C as jt,a as bt}from"./chevron-right-WVU7ND6D.js";import{P as at}from"./plus-CmuzIzVP.js";import{S as Nt}from"./search-BxVmjPJY.js";/* empty css            */import"./utils-Bg6-j3io.js";import"./index-io9CtjKe.js";import"./index-DcNvXaJY.js";import"./index-Jf__gGK3.js";import"./index--Jxe4Fkd.js";import"./index-DLSkT_Er.js";import"./index-CrBxr1PY.js";import"./index-MqPAUplX.js";import"./x-LV5hcHsS.js";import"./index-CsAEF18M.js";import"./index-B6EV88DE.js";import"./index-AnDSScuS.js";import"./check-sk2BhdZb.js";import"./dropdown-menu-C1G0hESQ.js";import"./app-logo-icon-CJAw2EBB.js";import"./file-text-BpWpBjbu.js";const vt=[{title:"Kategori",href:"/categories"}];function St(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"—"}function ls(){const e=nt.c(117),{categories:l,filters:a}=ot().props,[_e,lt]=c.useState(a.search),[ye,M]=c.useState(!1),[we,R]=c.useState(!1),[$,Ae]=c.useState(null),[i,Me]=c.useState(""),[n,Ce]=c.useState(""),[r,V]=c.useState(!1),[U,Re]=c.useState(null);let J;e[0]!==a.per_page||e[1]!==a.sort?(J=s=>{lt(s),d.get("/categories",{search:s,sort:a.sort,per_page:a.per_page},{preserveState:!0,replace:!0})},e[0]=a.per_page,e[1]=a.sort,e[2]=J):J=e[2];const ke=J;let q;e[3]!==a.per_page||e[4]!==a.search?(q=s=>{d.get("/categories",{search:a.search,sort:s,per_page:a.per_page},{preserveState:!0,replace:!0})},e[3]=a.per_page,e[4]=a.search,e[5]=q):q=e[5];const De=q;let G;e[6]!==a.search||e[7]!==a.sort?(G=s=>{d.get("/categories",{search:a.search,sort:a.sort,per_page:s},{preserveState:!0,replace:!0})},e[6]=a.search,e[7]=a.sort,e[8]=G):G=e[8];const Te=G;let Q;e[9]!==i?(Q=s=>{s.preventDefault(),i.trim()&&(V(!0),d.post("/categories",{name:i.trim()},{preserveScroll:!0,onSuccess:()=>{M(!1),Me("")},onFinish:()=>V(!1)}))},e[9]=i,e[10]=Q):Q=e[10];const Ke=Q;let W;e[11]===Symbol.for("react.memo_cache_sentinel")?(W=s=>{Ae(s),Ce(s.name),R(!0)},e[11]=W):W=e[11];const rt=W;let X;e[12]!==n||e[13]!==$?(X=s=>{s.preventDefault(),!(!$||!n.trim())&&(V(!0),d.put(`/categories/${$.id}`,{name:n.trim()},{preserveScroll:!0,onSuccess:()=>{R(!1),Ae(null),Ce("")},onFinish:()=>V(!1)}))},e[12]=n,e[13]=$,e[14]=X):X=e[14];const Fe=X;let Y;e[15]===Symbol.for("react.memo_cache_sentinel")?(Y=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&(Re(s),d.delete(`/categories/${s}`,{preserveScroll:!0,onFinish:()=>Re(null)}))},e[15]=Y):Y=e[15];const it=Y,Be=_t;let Z;e[16]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(ct,{title:"Kategori"}),e[16]=Z):Z=e[16];let ee,te,se,ae;e[17]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px]"}),ae=t.jsx("div",{className:"pointer-events-none absolute -top-40 right-0 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),ee=t.jsx("div",{className:"pointer-events-none absolute -bottom-40 -left-10 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl"}),te=t.jsx("div",{className:"pointer-events-none absolute top-1/4 left-1/3 h-48 w-48 rounded-full bg-indigo-500/5 blur-3xl"}),e[17]=ee,e[18]=te,e[19]=se,e[20]=ae):(ee=e[17],te=e[18],se=e[19],ae=e[20]);let le;e[21]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(st,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Manajemen Kategori"})]}),e[21]=le):le=e[21];let re;e[22]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-foreground",children:"Kategori Diskusi"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-lg",children:"Kelola berbagai kategori topik yang tersedia untuk memudahkan pengelompokan diskusi di forum."})]}),e[22]=re):re=e[22];let ie;e[23]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{className:"relative overflow-hidden bg-background border-b border-border/60",children:[se,ae,ee,te,t.jsxs("div",{className:"relative mx-auto w-full px-5 py-8 md:px-8 md:py-10",children:[le,t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[re,t.jsxs(o,{className:"bg-[#1548d7] hover:bg-[#1240b8] text-white shadow-md self-start sm:self-auto shrink-0",onClick:()=>M(!0),children:[t.jsx(at,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]})]})]}),e[23]=ie):ie=e[23];let ne;e[24]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[24]=ne):ne=e[24];let h;e[25]!==ke?(h=s=>ke(s.target.value),e[25]=ke,e[26]=h):h=e[26];let x;e[27]!==_e||e[28]!==h?(x=t.jsxs("div",{className:"relative flex-1",children:[ne,t.jsx(He,{placeholder:"Cari kategori...",value:_e,onChange:h,className:"pl-9"})]}),e[27]=_e,e[28]=h,e[29]=x):x=e[29];let oe;e[30]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Ye,{className:"w-[140px]",children:t.jsx(Ze,{})}),e[30]=oe):oe=e[30];let ce;e[31]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs(et,{children:[t.jsx(z,{value:"latest",children:"Terbaru"}),t.jsx(z,{value:"oldest",children:"Terlama"})]}),e[31]=ce):ce=e[31];let f;e[32]!==a.sort||e[33]!==De?(f=t.jsx("div",{className:"flex gap-2",children:t.jsxs(Xe,{value:a.sort,onValueChange:De,children:[oe,ce]})}),e[32]=a.sort,e[33]=De,e[34]=f):f=e[34];let u;e[35]!==x||e[36]!==f?(u=t.jsx($e,{className:"p-0 sm:p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[x,f]})}),e[35]=x,e[36]=f,e[37]=u):u=e[37];let me;e[38]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(dt,{className:"sr-only",children:t.jsx("h2",{children:"Daftar Kategori"})}),e[38]=me):me=e[38];let de;e[39]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(xt,{children:t.jsxs(ze,{className:"bg-muted/30 hover:bg-muted/30",children:[t.jsx(I,{className:"w-[60px] text-center",children:"#"}),t.jsx(I,{children:"Nama"}),t.jsx(I,{children:"Slug"}),t.jsx(I,{className:"text-center",children:"Jumlah Diskusi"}),t.jsx(I,{children:"Tanggal Dibuat"}),t.jsx(I,{className:"text-center w-[120px]",children:"Aksi"})]})}),e[39]=de):de=e[39];let p;e[40]!==l.data||e[41]!==l.meta?.from||e[42]!==U?(p=l.data.length>0?l.data.map((s,A)=>t.jsxs(ze,{className:"group",children:[t.jsx(m,{className:"text-center text-muted-foreground text-sm",children:(l.meta?.from??1)+A}),t.jsx(m,{children:t.jsx("div",{className:"flex items-center gap-2.5",children:t.jsx("span",{className:"font-medium",children:s.name})})}),t.jsx(m,{children:t.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs text-muted-foreground",children:s.slug})}),t.jsx(m,{className:"text-center",children:t.jsxs(mt,{variant:"secondary",className:"text-xs",children:[s.posts_count," diskusi"]})}),t.jsx(m,{className:"text-sm text-muted-foreground",children:St(s.created_at)}),t.jsx(m,{children:t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>rt(s),children:t.jsx(tt,{className:"h-3.5 w-3.5"})}),t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>it(s.id),disabled:U===s.id,children:U===s.id?t.jsx(Ie,{className:"h-3.5 w-3.5 animate-spin"}):t.jsx(gt,{className:"h-3.5 w-3.5"})})]})})]},s.id)):t.jsx(ze,{children:t.jsxs(m,{colSpan:6,className:"text-center py-12",children:[t.jsx(st,{className:"mx-auto h-10 w-10 text-muted-foreground/30 mb-3"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada kategori"})]})}),e[40]=l.data,e[41]=l.meta?.from,e[42]=U,e[43]=p):p=e[43];let g;e[44]!==p?(g=t.jsx($e,{className:"p-0",children:t.jsxs(ft,{children:[de,t.jsx(ut,{children:p})]})}),e[44]=p,e[45]=g):g=e[45];const Pe=l.meta?.from??0,Ee=l.meta?.to??0,Le=l.meta?.total??0;let j;e[46]!==Le?(j=t.jsx("span",{className:"font-semibold",children:Le}),e[46]=Le,e[47]=j):j=e[47];let b;e[48]!==Pe||e[49]!==Ee||e[50]!==j?(b=t.jsxs("p",{className:"text-xs text-muted-foreground text-center sm:text-left flex-1",children:["Menampilkan ",Pe,"–",Ee," dari"," ",j," kategori"]}),e[48]=Pe,e[49]=Ee,e[50]=j,e[51]=b):b=e[51];let N;e[52]!==l.meta?(N=l.meta?.links&&(l.meta.links.length>3||l.meta.total>10)&&l.meta.links.map((s,A)=>A===0?t.jsx(o,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:!s.url,onClick:()=>Be(s.url),children:t.jsx(jt,{className:"h-4 w-4"})},"prev"):A===(l.meta?.links.length??0)-1?t.jsx(o,{variant:"outline",size:"icon",className:"h-8 w-8",disabled:!s.url,onClick:()=>Be(s.url),children:t.jsx(bt,{className:"h-4 w-4"})},"next"):t.jsx(o,{variant:s.active?"default":"outline",size:"sm",className:`h-8 min-w-8 text-xs ${s.active?"bg-[#1548d7] hover:bg-[#1240b8]":""}`,disabled:!s.url,onClick:()=>Be(s.url),dangerouslySetInnerHTML:{__html:s.label}},A)),e[52]=l.meta,e[53]=N):N=e[53];let v;e[54]!==N?(v=t.jsx("div",{className:"flex items-center justify-center gap-1 flex-1",children:N}),e[54]=N,e[55]=v):v=e[55];const Oe=String(a.per_page);let he;e[56]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(Ye,{className:"w-28",children:t.jsx(Ze,{})}),e[56]=he):he=e[56];let xe;e[57]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(et,{children:[t.jsx(z,{value:"10",children:"10 / page"}),t.jsx(z,{value:"50",children:"50 / page"}),t.jsx(z,{value:"100",children:"100 / page"}),t.jsx(z,{value:"all",children:"Semua"})]}),e[57]=xe):xe=e[57];let S;e[58]!==Te||e[59]!==Oe?(S=t.jsx("div",{className:"flex items-center justify-end flex-1",children:t.jsxs(Xe,{value:Oe,onValueChange:Te,children:[he,xe]})}),e[58]=Te,e[59]=Oe,e[60]=S):S=e[60];let _;e[61]!==b||e[62]!==v||e[63]!==S?(_=t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 border-t px-4 py-4",children:[b,v,S]}),e[61]=b,e[62]=v,e[63]=S,e[64]=_):_=e[64];let y;e[65]!==g||e[66]!==_?(y=t.jsxs(ht,{className:"border-0 shadow-md overflow-hidden",children:[me,g,_]}),e[65]=g,e[66]=_,e[67]=y):y=e[67];let w;e[68]!==u||e[69]!==y?(w=t.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[u,y]}),e[68]=u,e[69]=y,e[70]=w):w=e[70];let fe;e[71]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(Ve,{children:[t.jsx(Ue,{children:"Tambah Kategori"}),t.jsx(Je,{children:"Buat kategori baru untuk diskusi forum."})]}),e[71]=fe):fe=e[71];let ue;e[72]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(We,{htmlFor:"create-name",children:"Nama Kategori"}),e[72]=ue):ue=e[72];let pe;e[73]===Symbol.for("react.memo_cache_sentinel")?(pe=s=>Me(s.target.value),e[73]=pe):pe=e[73];let C;e[74]!==i?(C=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[ue,t.jsx(He,{id:"create-name",placeholder:"Masukkan nama kategori",value:i,onChange:pe,autoFocus:!0})]})}),e[74]=i,e[75]=C):C=e[75];let ge;e[76]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(o,{type:"button",variant:"outline",onClick:()=>M(!1),children:"Batal"}),e[76]=ge):ge=e[76];let k;e[77]!==i||e[78]!==r?(k=r||!i.trim(),e[77]=i,e[78]=r,e[79]=k):k=e[79];let D;e[80]!==r?(D=r?t.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(at,{className:"mr-2 h-4 w-4"}),e[80]=r,e[81]=D):D=e[81];let T;e[82]!==k||e[83]!==D?(T=t.jsxs(qe,{children:[ge,t.jsxs(o,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:k,children:[D,"Simpan"]})]}),e[82]=k,e[83]=D,e[84]=T):T=e[84];let K;e[85]!==Ke||e[86]!==C||e[87]!==T?(K=t.jsxs(Ge,{className:"sm:max-w-md",children:[fe,t.jsxs("form",{onSubmit:Ke,children:[C,T]})]}),e[85]=Ke,e[86]=C,e[87]=T,e[88]=K):K=e[88];let F;e[89]!==ye||e[90]!==K?(F=t.jsx(Qe,{open:ye,onOpenChange:M,children:K}),e[89]=ye,e[90]=K,e[91]=F):F=e[91];let je;e[92]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsxs(Ve,{children:[t.jsx(Ue,{children:"Edit Kategori"}),t.jsx(Je,{children:"Ubah nama kategori yang sudah ada."})]}),e[92]=je):je=e[92];let be;e[93]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(We,{htmlFor:"edit-name",children:"Nama Kategori"}),e[93]=be):be=e[93];let Ne;e[94]===Symbol.for("react.memo_cache_sentinel")?(Ne=s=>Ce(s.target.value),e[94]=Ne):Ne=e[94];let B;e[95]!==n?(B=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[be,t.jsx(He,{id:"edit-name",placeholder:"Masukkan nama kategori",value:n,onChange:Ne,autoFocus:!0})]})}),e[95]=n,e[96]=B):B=e[96];let ve;e[97]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(o,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Batal"}),e[97]=ve):ve=e[97];let P;e[98]!==n||e[99]!==r?(P=r||!n.trim(),e[98]=n,e[99]=r,e[100]=P):P=e[100];let E;e[101]!==r?(E=r?t.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(tt,{className:"mr-2 h-4 w-4"}),e[101]=r,e[102]=E):E=e[102];let L;e[103]!==P||e[104]!==E?(L=t.jsxs(qe,{children:[ve,t.jsxs(o,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:P,children:[E,"Simpan Perubahan"]})]}),e[103]=P,e[104]=E,e[105]=L):L=e[105];let O;e[106]!==Fe||e[107]!==B||e[108]!==L?(O=t.jsxs(Ge,{className:"sm:max-w-md",children:[je,t.jsxs("form",{onSubmit:Fe,children:[B,L]})]}),e[106]=Fe,e[107]=B,e[108]=L,e[109]=O):O=e[109];let H;e[110]!==we||e[111]!==O?(H=t.jsx(Qe,{open:we,onOpenChange:R,children:O}),e[110]=we,e[111]=O,e[112]=H):H=e[112];let Se;return e[113]!==w||e[114]!==F||e[115]!==H?(Se=t.jsxs(pt,{breadcrumbs:vt,children:[Z,t.jsxs("div",{className:"flex flex-col gap-0",children:[ie,w,F,H]})]}),e[113]=w,e[114]=F,e[115]=H,e[116]=Se):Se=e[116],Se}function _t(e){e&&d.get(e,{},{preserveState:!0})}export{ls as default};
