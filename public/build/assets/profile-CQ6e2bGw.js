import{g as $e,r as b,c as Je,u as Qe,f as et,j as p,L as tt,H as ot}from"./app-C-L-f7Cv.js";import{_ as rt,g as y}from"./index-DOXXiINL.js";import{H as it,S as nt,b as at}from"./layout-kHkcX8NQ.js";import{I as se}from"./input-error-fhW-U0Qv.js";import{B as Te}from"./button-C6VLO9-n.js";import{D as st,a as ct,b as lt,c as pt,d as ht,e as ut}from"./dialog-BiXwLOQL.js";import{I as Ee}from"./input-kfKQS2T6.js";import{L as ce}from"./label-BijX0_O3.js";import{A as dt}from"./app-layout-DymOOUoN.js";import{s as ft}from"./index-DcmOMlk_.js";import{K as mt}from"./transition-CQ3TEur8.js";import"./app-DLAxlG54.js";import"./index-Cj9rIc1C.js";import"./index-CyX7LRCO.js";import"./utils-BZan-CNl.js";import"./index-C-6T25Ox.js";import"./separator-DkzMCNTI.js";import"./index-LoxkdBUb.js";import"./index-CSEUMRIG.js";import"./index-U0YnV12-.js";import"./index-BqFw_WzI.js";import"./index-CVybVHt9.js";import"./index-CzirVx36.js";import"./x-Bt6brddw.js";import"./loader-circle-Dldf86kZ.js";import"./dropdown-menu-BdS-nXSh.js";import"./index-CbIikgPx.js";import"./app-logo-icon-DKoKFrJm.js";import"./file-text-DqdgOMSr.js";import"./plus-D6sgujCW.js";var Le,Ue;function vt(){if(Ue)return Le;Ue=1;var c=!1,t,e,o,r,n,i,a,l,s,h,m,f,u,x,C;function d(){if(!c){c=!0;var g=navigator.userAgent,v=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(g),R=/(Mac OS X)|(Windows)|(Linux)/.exec(g);if(f=/\b(iPhone|iP[ao]d)/.exec(g),u=/\b(iP[ao]d)/.exec(g),h=/Android/i.exec(g),x=/FBAN\/\w+;/i.exec(g),C=/Mobile/i.exec(g),m=!!/Win64/.exec(g),v){t=v[1]?parseFloat(v[1]):v[5]?parseFloat(v[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(g);i=_?parseFloat(_[1])+4:t,e=v[2]?parseFloat(v[2]):NaN,o=v[3]?parseFloat(v[3]):NaN,r=v[4]?parseFloat(v[4]):NaN,r?(v=/(?:Chrome\/(\d+\.\d+))/.exec(g),n=v&&v[1]?parseFloat(v[1]):NaN):n=NaN}else t=e=o=n=r=NaN;if(R){if(R[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(g);a=E?parseFloat(E[1].replace("_",".")):!0}else a=!1;l=!!R[2],s=!!R[3]}else a=l=s=!1}}var S={ie:function(){return d()||t},ieCompatibilityMode:function(){return d()||i>t},ie64:function(){return S.ie()&&m},firefox:function(){return d()||e},opera:function(){return d()||o},webkit:function(){return d()||r},safari:function(){return S.webkit()},chrome:function(){return d()||n},windows:function(){return d()||l},osx:function(){return d()||a},linux:function(){return d()||s},iphone:function(){return d()||f},mobile:function(){return d()||f||u||h||C},nativeApp:function(){return d()||x},android:function(){return d()||h},ipad:function(){return d()||u}};return Le=S,Le}var Ie,He;function gt(){if(He)return Ie;He=1;var c=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!!(window.addEventListener||window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c};return Ie=t,Ie}var Oe,Be;function wt(){if(Be)return Oe;Be=1;var c=gt(),t;c.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function e(o,r){if(!c.canUseDOM||r&&!("addEventListener"in document))return!1;var n="on"+o,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i=typeof a[n]=="function"}return!i&&t&&o==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}return Oe=e,Oe}var ke,qe;function xt(){if(qe)return ke;qe=1;var c=vt(),t=wt(),e=10,o=40,r=800;function n(i){var a=0,l=0,s=0,h=0;return"detail"in i&&(l=i.detail),"wheelDelta"in i&&(l=-i.wheelDelta/120),"wheelDeltaY"in i&&(l=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(a=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(a=l,l=0),s=a*e,h=l*e,"deltaY"in i&&(h=i.deltaY),"deltaX"in i&&(s=i.deltaX),(s||h)&&i.deltaMode&&(i.deltaMode==1?(s*=o,h*=o):(s*=r,h*=r)),s&&!a&&(a=s<1?-1:1),h&&!l&&(l=h<1?-1:1),{spinX:a,spinY:l,pixelX:s,pixelY:h}}return n.getEventType=function(){return c.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},ke=n,ke}var Ze,Ge;function Ct(){return Ge||(Ge=1,Ze=xt()),Ze}var yt=Ct();const bt=$e(yt);function _t(c,t,e,o,r,n){n===void 0&&(n=0);var i=ae(c,t,n),a=i.width,l=i.height,s=Math.min(a,e),h=Math.min(l,o);return s>h*r?{width:h*r,height:h}:{width:s,height:s/r}}function St(c){return c.width>c.height?c.width/c.naturalWidth:c.height/c.naturalHeight}function le(c,t,e,o,r){r===void 0&&(r=0);var n=ae(t.width,t.height,r),i=n.width,a=n.height;return{x:Xe(c.x,i,e.width,o),y:Xe(c.y,a,e.height,o)}}function Xe(c,t,e,o){var r=t*o/2-e/2;return ze(c,-r,r)}function Ye(c,t){return Math.sqrt(Math.pow(c.y-t.y,2)+Math.pow(c.x-t.x,2))}function Ke(c,t){return Math.atan2(t.y-c.y,t.x-c.x)*180/Math.PI}function Rt(c,t,e,o,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!0);var a=i?Et:Dt,l=ae(t.width,t.height,n),s=ae(t.naturalWidth,t.naturalHeight,n),h={x:a(100,((l.width-e.width/r)/2-c.x/r)/l.width*100),y:a(100,((l.height-e.height/r)/2-c.y/r)/l.height*100),width:a(100,e.width/l.width*100/r),height:a(100,e.height/l.height*100/r)},m=Math.round(a(s.width,h.width*s.width/100)),f=Math.round(a(s.height,h.height*s.height/100)),u=s.width>=s.height*o,x=u?{width:Math.round(f*o),height:f}:{width:m,height:Math.round(m/o)},C=y(y({},x),{x:Math.round(a(s.width-x.width,h.x*s.width/100)),y:Math.round(a(s.height-x.height,h.y*s.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:C}}function Et(c,t){return Math.min(c,Math.max(0,t))}function Dt(c,t){return t}function zt(c,t,e,o,r,n){var i=ae(t.width,t.height,e),a=ze(o.width/i.width*(100/c.width),r,n),l={x:a*i.width/2-o.width/2-i.width*a*(c.x/100),y:a*i.height/2-o.height/2-i.height*a*(c.y/100)};return{crop:l,zoom:a}}function Pt(c,t,e){var o=St(t);return e.height>e.width?e.height/(c.height*o):e.width/(c.width*o)}function jt(c,t,e,o,r,n){e===void 0&&(e=0);var i=ae(t.naturalWidth,t.naturalHeight,e),a=ze(Pt(c,t,o),r,n),l=o.height>o.width?o.height/c.height:o.width/c.width,s={x:((i.width-c.width)/2-c.x)*l,y:((i.height-c.height)/2-c.y)*l};return{crop:s,zoom:a}}function Ve(c,t){return{x:(t.x+c.x)/2,y:(t.y+c.y)/2}}function At(c){return c*Math.PI/180}function ae(c,t,e){var o=At(e);return{width:Math.abs(Math.cos(o)*c)+Math.abs(Math.sin(o)*t),height:Math.abs(Math.sin(o)*c)+Math.abs(Math.cos(o)*t)}}function ze(c,t,e){return Math.min(Math.max(c,t),e)}function De(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];return c.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Mt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Nt=1,Wt=3,Ft=1,Tt=(function(c){rt(t,c);function t(){var e=c!==null&&c.apply(this,arguments)||this;return e.cropperRef=b.createRef(),e.imageRef=b.createRef(),e.videoRef=b.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var o=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(o){o=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(o){return o.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var o=e.computeSizes();o&&(e.previousCropSize=o,e.emitCropData(),e.setInitialCrop(o),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(o){if(e.props.initialCroppedAreaPercentages){var r=zt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),n=r.crop,i=r.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var a=jt(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),n=a.crop,i=a.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var o,r,n,i,a,l,s=e.imageRef.current||e.videoRef.current;if(s&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var h=e.containerRect.width/e.containerRect.height,m=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,u=s.offsetWidth<m||s.offsetHeight<f,x=m/f,C=void 0;if(u)switch(e.state.mediaObjectFit){default:case"contain":C=h>x?{width:e.containerRect.height*x,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/x};break;case"horizontal-cover":C={width:e.containerRect.width,height:e.containerRect.width/x};break;case"vertical-cover":C={width:e.containerRect.height*x,height:e.containerRect.height};break}else C={width:s.offsetWidth,height:s.offsetHeight};e.mediaSize=y(y({},C),{naturalWidth:m,naturalHeight:f}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var d=e.props.cropSize?e.props.cropSize:_t(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((a=e.state.cropSize)===null||a===void 0?void 0:a.height)!==d.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==d.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(d),e.setState({cropSize:d},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(d),d}},e.saveContainerPosition=function(){if(e.containerRef){var o=e.containerRef.getBoundingClientRect();e.containerPosition={x:o.left,y:o.top}}},e.onMouseDown=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(t.getMousePoint(o)))},e.onMouseMove=function(o){return e.onDrag(t.getMousePoint(o))},e.onScroll=function(o){e.currentDoc&&(o.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(o){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(o))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),o.touches.length===2?e.onPinchStart(o):o.touches.length===1&&e.onDragStart(t.getTouchPoint(o.touches[0]))))},e.onTouchMove=function(o){o.preventDefault(),o.touches.length===2?e.onPinchMove(o):o.touches.length===1&&e.onDrag(t.getTouchPoint(o.touches[0]))},e.onGestureStart=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(o){if(o.preventDefault(),!e.isTouching){var r=t.getMousePoint(o),n=e.gestureZoomStart-1+o.scale;if(e.setNewZoom(n,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+o.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(o){e.cleanEvents()},e.onDragStart=function(o){var r,n,i=o.x,a=o.y;e.dragStartPosition={x:i,y:a},e.dragStartCrop=y({},e.props.crop),(n=(r=e.props).onInteractionStart)===null||n===void 0||n.call(r)},e.onDrag=function(o){var r=o.x,n=o.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||n===void 0)){var i=r-e.dragStartPosition.x,a=n-e.dragStartPosition.y,l={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+a},s=e.props.restrictPosition?le(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(s)}}))},e.onDragStopped=function(){var o,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(o=e.props).onInteractionEnd)===null||r===void 0||r.call(o)},e.onWheel=function(o){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(o))){o.preventDefault();var r=t.getMousePoint(o),n=bt(o).pixelY,i=e.props.zoom-n*e.props.zoomSpeed/200;e.setNewZoom(i,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},e.getPointOnContainer=function(o,r){var n=o.x,i=o.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(n-r.x),y:e.containerRect.height/2-(i-r.y)}},e.getPointOnMedia=function(o){var r=o.x,n=o.y,i=e.props,a=i.crop,l=i.zoom;return{x:(r+a.x)/l,y:(n+a.y)/l}},e.setNewZoom=function(o,r,n){var i=n===void 0?{}:n,a=i.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!e.state.cropSize||!e.props.onZoomChange)){var s=ze(o,e.props.minZoom,e.props.maxZoom);if(l){var h=e.getPointOnContainer(r,e.containerPosition),m=e.getPointOnMedia(h),f={x:m.x*s-h.x,y:m.y*s-h.y},u=e.props.restrictPosition?le(f,e.mediaSize,e.state.cropSize,s,e.props.rotation):f;e.props.onCropChange(u)}e.props.onZoomChange(s)}},e.getCropData=function(){if(!e.state.cropSize)return null;var o=e.props.restrictPosition?le(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Rt(o,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,n=o.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,n),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,n)}},e.emitCropAreaChange=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,n=o.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,n)}},e.recomputeCropPosition=function(){var o,r;if(e.state.cropSize){var n=e.props.crop;if(e.isInitialized&&(!((o=e.previousCropSize)===null||o===void 0)&&o.width)&&(!((r=e.previousCropSize)===null||r===void 0)&&r.height)){var i=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(i){var a=e.state.cropSize.width/e.previousCropSize.width,l=e.state.cropSize.height/e.previousCropSize.height;n={x:e.props.crop.x*a,y:e.props.crop.y*l}}}var s=e.props.restrictPosition?le(n,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):n;e.previousCropSize=e.state.cropSize,e.props.onCropChange(s),e.emitCropData()}},e.onKeyDown=function(o){var r,n,i=e.props,a=i.crop,l=i.onCropChange,s=i.keyboardStep,h=i.zoom,m=i.rotation,f=s;if(e.state.cropSize){o.shiftKey&&(f*=.2);var u=y({},a);switch(o.key){case"ArrowUp":u.y-=f,o.preventDefault();break;case"ArrowDown":u.y+=f,o.preventDefault();break;case"ArrowLeft":u.x-=f,o.preventDefault();break;case"ArrowRight":u.x+=f,o.preventDefault();break;default:return}e.props.restrictPosition&&(u=le(u,e.mediaSize,e.state.cropSize,h,m)),o.repeat||(n=(r=e.props).onInteractionStart)===null||n===void 0||n.call(r),l(u)}},e.onKeyUp=function(o){var r,n;switch(o.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":o.preventDefault();break;default:return}e.emitCropData(),(n=(r=e.props).onInteractionEnd)===null||n===void 0||n.call(r)},e}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Mt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,o;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((o=this.styleRef.parentNode)===null||o===void 0||o.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var o,r,n,i,a,l,s,h,m;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((o=e.cropSize)===null||o===void 0?void 0:o.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((n=e.cropSize)===null||n===void 0?void 0:n.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((a=e.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((s=e.crop)===null||s===void 0?void 0:s.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,o=e.cropSize,r=e.aspect;return o?o.width/o.height:r},t.prototype.getObjectFit=function(){var e,o,r,n;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,s=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoHeight)||0,h=l/s;return h<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var o=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=Ye(o,r),this.lastPinchRotation=Ke(o,r),this.onDragStart(Ve(o,r))},t.prototype.onPinchMove=function(e){var o=this;if(!(!this.currentDoc||!this.currentWindow)){var r=t.getTouchPoint(e.touches[0]),n=t.getTouchPoint(e.touches[1]),i=Ve(r,n);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=Ye(r,n),l=o.props.zoom*(a/o.lastPinchDistance);o.setNewZoom(l,i,{shouldUpdatePosition:!1}),o.lastPinchDistance=a;var s=Ke(r,n),h=o.props.rotation+(s-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(h),o.lastPinchRotation=s})}},t.prototype.render=function(){var e=this,o,r=this.props,n=r.image,i=r.video,a=r.mediaProps,l=r.cropperProps,s=r.transform,h=r.crop,m=h.x,f=h.y,u=r.rotation,x=r.zoom,C=r.cropShape,d=r.showGrid,S=r.roundCropAreaPixels,g=r.style,v=g.containerStyle,R=g.cropAreaStyle,_=g.mediaStyle,E=r.classes,j=E.containerClassName,Pe=E.cropAreaClassName,P=E.mediaClassName,D=(o=this.state.mediaObjectFit)!==null&&o!==void 0?o:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(je){return e.containerRef=je},"data-testid":"container",style:v,className:De("reactEasyCrop_Container",j)},n?b.createElement("img",y({alt:"",className:De("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{src:n,ref:this.imageRef,style:y(y({},_),{transform:s||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(u,"deg) scale(").concat(x,")")}),onLoad:this.onMediaLoad})):i&&b.createElement("video",y({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:De("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:y(y({},_),{transform:s||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(u,"deg) scale(").concat(x,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(z){return b.createElement("source",y({key:z.src},z))})),this.state.cropSize&&b.createElement("div",y({ref:this.cropperRef,style:y(y({},R),{width:S?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:S?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:De("reactEasyCrop_CropArea",C==="round"&&"reactEasyCrop_CropAreaRound",d&&"reactEasyCrop_CropAreaGrid",Pe)},l)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Wt,minZoom:Nt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Ft},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t})(b.Component);const Lt=c=>new Promise((t,e)=>{const o=new Image;o.addEventListener("load",()=>t(o)),o.addEventListener("error",r=>e(r)),o.setAttribute("crossOrigin","anonymous"),o.src=c});async function It(c,t,e="cropped.jpg"){const o=await Lt(c),r=document.createElement("canvas"),n=r.getContext("2d");if(!n)return null;r.width=o.width,r.height=o.height,n.drawImage(o,0,0);const i=n.getImageData(t.x,t.y,t.width,t.height);return r.width=t.width,r.height=t.height,n.putImageData(i,0,0),new Promise((a,l)=>{r.toBlob(s=>{s?a(new File([s],e,{type:"image/jpeg"})):l(new Error("Canvas is empty"))},"image/jpeg")})}const Ot=[{title:"Profile settings",href:at().url}];function go(c){const t=Je.c(112),{mustVerifyEmail:e,status:o}=c,{auth:r}=Qe().props,n=r.user.specialization||"",i=r.user.bio||"";let a;t[0]!==r.user.email||t[1]!==r.user.name||t[2]!==n||t[3]!==i?(a={name:r.user.name,email:r.user.email,specialization:n,bio:i,profile_photo:null},t[0]=r.user.email,t[1]=r.user.name,t[2]=n,t[3]=i,t[4]=a):a=t[4];const{data:l,setData:s,patch:h,processing:m,recentlySuccessful:f,errors:u}=et(a),[x,C]=b.useState(!1),[d,S]=b.useState("");let g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={x:0,y:0},t[5]=g):g=t[5];const[v,R]=b.useState(g),[_,E]=b.useState(1),[j,Pe]=b.useState(null);let P;t[6]===Symbol.for("react.memo_cache_sentinel")?(P=(w,Re)=>{Pe(Re)},t[6]=P):P=t[6];const D=P;let z;t[7]===Symbol.for("react.memo_cache_sentinel")?(z=w=>{if(w.target.files&&w.target.files.length>0){const Re=w.target.files[0],Fe=new FileReader;Fe.addEventListener("load",()=>S(Fe.result?.toString()||"")),Fe.readAsDataURL(Re),C(!0)}w.target.value=""},t[7]=z):z=t[7];const je=z;let pe;t[8]!==j||t[9]!==d||t[10]!==s?(pe=async()=>{if(j){try{const w=await It(d,j);w&&s("profile_photo",w)}catch(w){console.error(w)}C(!1)}},t[8]=j,t[9]=d,t[10]=s,t[11]=pe):pe=t[11];const Ae=pe;let he;t[12]!==h?(he=w=>{w.preventDefault(),h("/settings/profile")},t[12]=h,t[13]=he):he=t[13];const Me=he;let ue,de;t[14]===Symbol.for("react.memo_cache_sentinel")?(de=p.jsx(ot,{title:"Profile settings"}),ue=p.jsx("h1",{className:"sr-only",children:"Profile Settings"}),t[14]=ue,t[15]=de):(ue=t[14],de=t[15]);let fe;t[16]===Symbol.for("react.memo_cache_sentinel")?(fe=p.jsx(it,{variant:"small",title:"Profile information",description:"Update your name, photo, and professional details"}),t[16]=fe):fe=t[16];let me;t[17]===Symbol.for("react.memo_cache_sentinel")?(me=p.jsx(ce,{htmlFor:"profile_photo",children:"Foto Profil"}),t[17]=me):me=t[17];let A;t[18]!==r.user.name||t[19]!==r.user.profile_photo||t[20]!==l.profile_photo?(A=p.jsx("div",{className:"h-16 w-16 shrink-0 rounded-full bg-muted overflow-hidden border border-border flex items-center justify-center",children:l.profile_photo instanceof File?p.jsx("img",{src:URL.createObjectURL(l.profile_photo),alt:"Preview",className:"h-full w-full object-cover"}):r.user.profile_photo?p.jsx("img",{src:`/storage/${r.user.profile_photo}`,alt:r.user.name,className:"h-full w-full object-cover"}):p.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:r.user.name.charAt(0).toUpperCase()})}),t[18]=r.user.name,t[19]=r.user.profile_photo,t[20]=l.profile_photo,t[21]=A):A=t[21];let ve;t[22]===Symbol.for("react.memo_cache_sentinel")?(ve=p.jsx(Ee,{id:"profile_photo",type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",name:"profile_photo",className:"w-full max-w-sm file:mr-4 file:py-1 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#1548d7]/10 file:text-[#1548d7] hover:file:bg-[#1548d7]/20 cursor-pointer",onChange:je}),t[22]=ve):ve=t[22];let M;t[23]!==A?(M=p.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[A,ve]}),t[23]=A,t[24]=M):M=t[24];let N;t[25]!==u.profile_photo?(N=p.jsx(se,{className:"mt-1",message:u.profile_photo}),t[25]=u.profile_photo,t[26]=N):N=t[26];let W;t[27]!==M||t[28]!==N?(W=p.jsxs("div",{className:"grid gap-2",children:[me,M,N]}),t[27]=M,t[28]=N,t[29]=W):W=t[29];let ge;t[30]===Symbol.for("react.memo_cache_sentinel")?(ge=p.jsx(ce,{htmlFor:"name",children:"Name"}),t[30]=ge):ge=t[30];let F;t[31]!==s?(F=w=>s("name",w.target.value),t[31]=s,t[32]=F):F=t[32];let T;t[33]!==l.name||t[34]!==F?(T=p.jsx(Ee,{id:"name",className:"mt-1 block w-full",value:l.name,onChange:F,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),t[33]=l.name,t[34]=F,t[35]=T):T=t[35];let L;t[36]!==u.name?(L=p.jsx(se,{className:"mt-2",message:u.name}),t[36]=u.name,t[37]=L):L=t[37];let I;t[38]!==T||t[39]!==L?(I=p.jsxs("div",{className:"grid gap-2",children:[ge,T,L]}),t[38]=T,t[39]=L,t[40]=I):I=t[40];let we;t[41]===Symbol.for("react.memo_cache_sentinel")?(we=p.jsx(ce,{htmlFor:"email",children:"Email address"}),t[41]=we):we=t[41];let O;t[42]!==s?(O=w=>s("email",w.target.value),t[42]=s,t[43]=O):O=t[43];let k;t[44]!==l.email||t[45]!==O?(k=p.jsx(Ee,{id:"email",type:"email",className:"mt-1 block w-full",value:l.email,onChange:O,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),t[44]=l.email,t[45]=O,t[46]=k):k=t[46];let Z;t[47]!==u.email?(Z=p.jsx(se,{className:"mt-2",message:u.email}),t[47]=u.email,t[48]=Z):Z=t[48];let U;t[49]!==k||t[50]!==Z?(U=p.jsxs("div",{className:"grid gap-2",children:[we,k,Z]}),t[49]=k,t[50]=Z,t[51]=U):U=t[51];let xe;t[52]===Symbol.for("react.memo_cache_sentinel")?(xe=p.jsx(ce,{htmlFor:"specialization",children:"Spesialisasi / Keahlian"}),t[52]=xe):xe=t[52];const Ne=l.specialization||"";let H;t[53]!==s?(H=w=>s("specialization",w.target.value),t[53]=s,t[54]=H):H=t[54];let B;t[55]!==Ne||t[56]!==H?(B=p.jsx(Ee,{id:"specialization",className:"mt-1 block w-full",value:Ne,onChange:H,name:"specialization",placeholder:"Contoh: Dokter Umum, Spesialis Anak, dll."}),t[55]=Ne,t[56]=H,t[57]=B):B=t[57];let q;t[58]!==u.specialization?(q=p.jsx(se,{className:"mt-2",message:u.specialization}),t[58]=u.specialization,t[59]=q):q=t[59];let G;t[60]!==B||t[61]!==q?(G=p.jsxs("div",{className:"grid gap-2",children:[xe,B,q]}),t[60]=B,t[61]=q,t[62]=G):G=t[62];let Ce;t[63]===Symbol.for("react.memo_cache_sentinel")?(Ce=p.jsx(ce,{htmlFor:"bio",children:"Bio / Tentang Saya"}),t[63]=Ce):Ce=t[63];const We=l.bio||"";let X;t[64]!==s?(X=w=>s("bio",w.target.value),t[64]=s,t[65]=X):X=t[65];let Y;t[66]!==We||t[67]!==X?(Y=p.jsx("textarea",{id:"bio",className:"mt-1 flex w-full min-h-[80px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:We,onChange:X,name:"bio",placeholder:"Ceritakan sedikit tentang latar belakang medis Anda..."}),t[66]=We,t[67]=X,t[68]=Y):Y=t[68];let K;t[69]!==u.bio?(K=p.jsx(se,{className:"mt-2",message:u.bio}),t[69]=u.bio,t[70]=K):K=t[70];let V;t[71]!==Y||t[72]!==K?(V=p.jsxs("div",{className:"grid gap-2",children:[Ce,Y,K]}),t[71]=Y,t[72]=K,t[73]=V):V=t[73];let $;t[74]!==r.user.email_verified_at||t[75]!==e||t[76]!==o?($=e&&r.user.email_verified_at===null&&p.jsxs("div",{children:[p.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",p.jsx(tt,{href:ft(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),o==="verification-link-sent"&&p.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),t[74]=r.user.email_verified_at,t[75]=e,t[76]=o,t[77]=$):$=t[77];let J;t[78]!==m?(J=p.jsx(Te,{disabled:m,"data-test":"update-profile-button",children:"Save"}),t[78]=m,t[79]=J):J=t[79];let ye;t[80]===Symbol.for("react.memo_cache_sentinel")?(ye=p.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"}),t[80]=ye):ye=t[80];let Q;t[81]!==f?(Q=p.jsx(mt,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:ye}),t[81]=f,t[82]=Q):Q=t[82];let ee;t[83]!==J||t[84]!==Q?(ee=p.jsxs("div",{className:"flex items-center gap-4",children:[J,Q]}),t[83]=J,t[84]=Q,t[85]=ee):ee=t[85];let te;t[86]!==Me||t[87]!==W||t[88]!==I||t[89]!==U||t[90]!==G||t[91]!==V||t[92]!==$||t[93]!==ee?(te=p.jsxs("div",{className:"space-y-6",children:[fe,p.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[W,I,U,G,V,$,ee]})]}),t[86]=Me,t[87]=W,t[88]=I,t[89]=U,t[90]=G,t[91]=V,t[92]=$,t[93]=ee,t[94]=te):te=t[94];let be;t[95]===Symbol.for("react.memo_cache_sentinel")?(be=p.jsxs(st,{children:[p.jsx(ct,{children:"Potong Foto Profil"}),p.jsx(lt,{children:"Sesuaikan ukuran dan posisi foto profil Anda (rasio 1:1)"})]}),t[95]=be):be=t[95];let oe;t[96]!==v||t[97]!==d||t[98]!==_?(oe=p.jsx("div",{className:"relative w-full h-64 bg-black rounded-md overflow-hidden mt-4",children:p.jsx(Tt,{image:d,crop:v,zoom:_,aspect:1,onCropChange:R,onCropComplete:D,onZoomChange:E})}),t[96]=v,t[97]=d,t[98]=_,t[99]=oe):oe=t[99];let _e;t[100]===Symbol.for("react.memo_cache_sentinel")?(_e=p.jsx(Te,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Batal"}),t[100]=_e):_e=t[100];let re;t[101]!==Ae?(re=p.jsxs(pt,{className:"mt-4 gap-2 sm:gap-0",children:[_e,p.jsx(Te,{type:"button",onClick:Ae,children:"Potong & Simpan"})]}),t[101]=Ae,t[102]=re):re=t[102];let ie;t[103]!==oe||t[104]!==re?(ie=p.jsxs(ht,{className:"max-w-md",children:[be,oe,re]}),t[103]=oe,t[104]=re,t[105]=ie):ie=t[105];let ne;t[106]!==x||t[107]!==ie?(ne=p.jsx(ut,{open:x,onOpenChange:C,children:ie}),t[106]=x,t[107]=ie,t[108]=ne):ne=t[108];let Se;return t[109]!==te||t[110]!==ne?(Se=p.jsxs(dt,{breadcrumbs:Ot,children:[de,ue,p.jsxs(nt,{children:[te,ne]})]}),t[109]=te,t[110]=ne,t[111]=Se):Se=t[111],Se}export{go as default};
