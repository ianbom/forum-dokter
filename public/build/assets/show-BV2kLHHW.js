import{c as ce,u as xe,r as pe,j as t,H as fe,a as he}from"./app-dCVrG_mc.js";import{E as ue}from"./index-DxEXjwCK.js";import{a as ge,b as be,A as je}from"./avatar-C_HG6__S.js";import{B as oe}from"./badge-CiYItFyo.js";import{B as ne}from"./button-C3Qb9PzC.js";import{C as re,a as de}from"./card-CKMJNTCX.js";import{A as Ne}from"./app-layout-B0qM3CRQ.js";import{AttachmentCard as ve}from"./AttachmentCard-BhfALija.js";import{CommentEditorToolbar as we}from"./CommentEditorToolbar-Bezni9gn.js";import{u as _e,C as ke}from"./CommentItem-BtR9kV7J.js";import{TiptapStyles as ye}from"./TiptapStyles-B0NJKgam.js";import{E as $e}from"./eye-off-gYdoFGxs.js";import{c as Ce}from"./utils-Bg6-j3io.js";import{M as le}from"./message-circle-CGygqWyJ.js";import{A as Le}from"./arrow-left-DFKeXyh4.js";import{C as Se}from"./calendar-DTpa27Ei.js";import{E as Be}from"./eye-CCtdepfS.js";import{P as Te}from"./pencil-GJJGtnmQ.js";import{L as Ee}from"./loader-circle-VFFUnhu1.js";import{S as Ae}from"./send-Ccic9La9.js";import{C as De}from"./clock-CcaL5KMg.js";/* empty css            */import"./index-V5mRvGLs.js";import"./index-C7yKKq-w.js";import"./index-CrBxr1PY.js";import"./index--Jxe4Fkd.js";import"./index-CsAEF18M.js";import"./index-io9CtjKe.js";import"./dropdown-menu-C1G0hESQ.js";import"./index-Jf__gGK3.js";import"./index-DLSkT_Er.js";import"./index-MqPAUplX.js";import"./index-AnDSScuS.js";import"./app-logo-icon-CJAw2EBB.js";import"./file-text-BpWpBjbu.js";import"./plus-CmuzIzVP.js";import"./separator-Bj4cs_4m.js";import"./underline-BB8TqVVE.js";const Ie=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],He=Ce("Paperclip",Ie),Pe=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/posts"},{title:"Detail Diskusi",href:"#"}],a={bg:"bg-[#1548d7]",bgHover:"hover:bg-[#1237b0]",text:"text-[#1548d7]",bgLight:"bg-[#1548d7]/10",darkText:"dark:text-[#6b93f5]",darkBgLight:"dark:bg-[#1548d7]/20"};function ze(e){return e.split(" ").filter((s,i)=>i<2).map(s=>s[0]).join("").toUpperCase()}function Me(e){return new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})+" WIB"}function Ct(){const e=ce.c(104),{post:s}=xe().props,[i,me]=pe.useState(!1),r=_e("Bagikan pendapat atau pengalaman klinis Anda...");let M;e[0]!==s.user.name?(M=ze(s.user.name),e[0]=s.user.name,e[1]=M):M=e[1];const ee=M,K=s.comments_count??0;let F;e[2]!==r||e[3]!==s.id?(F=()=>{if(!r)return;const z=r.getHTML();!z||z==="<p></p>"||(me(!0),he.post("/comments",{post_id:s.id,content:z},{preserveScroll:!0,onSuccess:()=>r.commands.clearContent(),onFinish:()=>me(!1)}))},e[2]=r,e[3]=s.id,e[4]=F):F=e[4];const te=F;let l;e[5]!==s.title?(l=t.jsx(fe,{title:s.title}),e[5]=s.title,e[6]=l):l=e[6];let R,J,O,U;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px]"}),J=t.jsx("div",{className:"pointer-events-none absolute -top-40 right-0 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),O=t.jsx("div",{className:"pointer-events-none absolute -bottom-40 -left-10 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl"}),U=t.jsx("div",{className:"pointer-events-none absolute top-1/4 left-1/3 h-48 w-48 rounded-full bg-indigo-500/5 blur-3xl"}),e[7]=R,e[8]=J,e[9]=O,e[10]=U):(R=e[7],J=e[8],O=e[9],U=e[10]);let W;e[11]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ne,{variant:"ghost",size:"sm",className:"mb-6 text-muted-foreground hover:text-foreground -ml-2.5",asChild:!0,children:t.jsxs("a",{href:"/posts",children:[t.jsx(Le,{className:"mr-1.5 h-4 w-4"}),"Kembali ke Diskusi"]})}),e[11]=W):W=e[11];let o;e[12]!==s.categories?(o=s.categories.map(Re),e[12]=s.categories,e[13]=o):o=e[13];let m;e[14]!==s.is_hidden?(m=s.is_hidden&&t.jsxs(oe,{variant:"destructive",className:"opacity-90",children:[t.jsx($e,{className:"mr-1 h-3 w-3"}),"Sembunyikan"]}),e[14]=s.is_hidden,e[15]=m):m=e[15];let n;e[16]!==o||e[17]!==m?(n=t.jsxs("div",{className:"flex items-start gap-2 mb-4 flex-wrap",children:[o,m]}),e[16]=o,e[17]=m,e[18]=n):n=e[18];let d;e[19]!==s.title?(d=t.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-extrabold text-foreground leading-tight tracking-tight mb-6 max-w-4xl",children:s.title}),e[19]=s.title,e[20]=d):d=e[20];let c;e[21]!==s.user.name||e[22]!==s.user.profile_photo?(c=s.user.profile_photo&&t.jsx(ge,{src:`/storage/${s.user.profile_photo}`,alt:s.user.name,className:"object-cover"}),e[21]=s.user.name,e[22]=s.user.profile_photo,e[23]=c):c=e[23];let x;e[24]!==ee?(x=t.jsx(be,{className:`${a.bgLight} ${a.text} ${a.darkBgLight} ${a.darkText} font-semibold text-sm`,children:ee}),e[24]=ee,e[25]=x):x=e[25];let p;e[26]!==c||e[27]!==x?(p=t.jsxs(je,{className:"h-11 w-11 ring-1 ring-border shadow-xs",children:[c,x]}),e[26]=c,e[27]=x,e[28]=p):p=e[28];let f;e[29]!==s.user.name?(f=t.jsx("p",{className:"font-semibold text-foreground",children:s.user.name}),e[29]=s.user.name,e[30]=f):f=e[30];let h;e[31]!==s.user.specialization?(h=s.user.specialization&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:s.user.specialization}),t.jsx("span",{children:"â€¢"})]}),e[31]=s.user.specialization,e[32]=h):h=e[32];let q;e[33]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(Se,{className:"h-3 w-3"}),e[33]=q):q=e[33];let u;e[34]!==s.created_at?(u=Me(s.created_at),e[34]=s.created_at,e[35]=u):u=e[35];let g;e[36]!==u?(g=t.jsxs("span",{className:"flex items-center gap-1",children:[q,u]}),e[36]=u,e[37]=g):g=e[37];let b;e[38]!==h||e[39]!==g?(b=t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[h,g]}),e[38]=h,e[39]=g,e[40]=b):b=e[40];let j;e[41]!==f||e[42]!==b?(j=t.jsxs("div",{children:[f,b]}),e[41]=f,e[42]=b,e[43]=j):j=e[43];let N;e[44]!==p||e[45]!==j?(N=t.jsxs("div",{className:"flex items-center gap-3",children:[p,j]}),e[44]=p,e[45]=j,e[46]=N):N=e[46];let G;e[47]!==s.views?(G=s.views.toLocaleString("id-ID"),e[47]=s.views,e[48]=G):G=e[48];const se=`${G} views`;let v;e[49]!==se?(v={icon:Be,label:se},e[49]=se,e[50]=v):v=e[50];const ae=`${K} komentar`;let w;e[51]!==ae?(w={icon:le,label:ae},e[51]=ae,e[52]=w):w=e[52];let _;e[53]!==v||e[54]!==w?(_=t.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:[v,w].map(Fe)}),e[53]=v,e[54]=w,e[55]=_):_=e[55];let k;e[56]!==N||e[57]!==_?(k=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[N,_]}),e[56]=N,e[57]=_,e[58]=k):k=e[58];let y;e[59]!==n||e[60]!==d||e[61]!==k?(y=t.jsxs("div",{className:"relative overflow-hidden bg-background border-b border-border/60",children:[R,J,O,U,t.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 py-6 md:px-6 md:py-10",children:[W,n,d,k]})]}),e[59]=n,e[60]=d,e[61]=k,e[62]=y):y=e[62];let $;e[63]!==s.content?($=t.jsx("article",{className:"prose prose-neutral dark:prose-invert max-w-none text-foreground/90 leading-[1.8] text-[15px]",dangerouslySetInnerHTML:{__html:s.content}}),e[63]=s.content,e[64]=$):$=e[64];let C;e[65]!==s.attachments?(C=s.attachments?.length>0&&t.jsxs("div",{className:"mt-8 pt-6 border-t",children:[t.jsxs("h4",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(He,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),"Lampiran (",s.attachments.length,")"]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:s.attachments.map(Ke)})]}),e[65]=s.attachments,e[66]=C):C=e[66];let L;e[67]!==$||e[68]!==C?(L=t.jsxs(re,{className:"p-5 md:p-8",children:[$,C]}),e[67]=$,e[68]=C,e[69]=L):L=e[69];let Q;e[70]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(de,{className:"pb-0 pt-5 px-5 md:px-8",children:t.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsx(Te,{className:`h-4 w-4 ${a.text} ${a.darkText}`}),"Tulis Komentar"]})}),e[70]=Q):Q=e[70];let S;e[71]!==r?(S=t.jsxs("div",{className:"rounded-xl border bg-muted/20 dark:bg-muted/10 overflow-hidden transition-colors focus-within:border-[#1548d7]/40 focus-within:shadow-sm",children:[t.jsx(we,{editor:r}),t.jsx(ue,{editor:r})]}),e[71]=r,e[72]=S):S=e[72];let B;e[73]!==i?(B=i?t.jsx(Ee,{className:"mr-1.5 h-3.5 w-3.5 animate-spin"}):t.jsx(Ae,{className:"mr-1.5 h-3.5 w-3.5"}),e[73]=i,e[74]=B):B=e[74];const ie=i?"Mengirim...":"Kirim Komentar";let T;e[75]!==te||e[76]!==i||e[77]!==B||e[78]!==ie?(T=t.jsx("div",{className:"flex items-center justify-end",children:t.jsxs(ne,{className:`${a.bg} ${a.bgHover} text-white shadow-md text-xs h-8`,onClick:te,disabled:i,children:[B,ie]})}),e[75]=te,e[76]=i,e[77]=B,e[78]=ie,e[79]=T):T=e[79];let E;e[80]!==S||e[81]!==T?(E=t.jsx(re,{className:"p-5 md:px-8 md:pb-6",children:t.jsx("div",{className:"flex gap-3 items-start",children:t.jsxs("div",{className:"flex-1 space-y-3",children:[S,T]})})}),e[80]=S,e[81]=T,e[82]=E):E=e[82];let V;e[83]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(le,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),e[83]=V):V=e[83];let A;e[84]!==K?(A=t.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2.5",children:[V,"Diskusi ",t.jsxs("span",{className:`text-sm font-normal ${a.text} ${a.darkText}`,children:["(",K,")"]})]}),e[84]=K,e[85]=A):A=e[85];let X;e[86]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(oe,{variant:"outline",className:"text-xs gap-1",children:[t.jsx(De,{className:"h-3 w-3"}),"Terbaru"]}),e[86]=X):X=e[86];let D;e[87]!==A?(D=t.jsx(de,{className:"pb-2 px-5 md:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[A,X]})}),e[87]=A,e[88]=D):D=e[88];let I;e[89]!==s.comments||e[90]!==s.id?(I=t.jsx(re,{className:"px-5 md:px-8 pb-6",children:s.comments?.length>0?t.jsx("div",{className:"divide-y divide-border/60",children:s.comments.map(z=>t.jsx(ke,{comment:z,postId:s.id},z.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsx("div",{className:`rounded-2xl p-5 ${a.bgLight} ${a.darkBgLight} mb-4`,children:t.jsx(le,{className:`h-10 w-10 ${a.text} ${a.darkText}`})}),t.jsx("p",{className:"font-semibold",children:"Belum ada komentar"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-xs",children:"Jadilah yang pertama memberikan tanggapan pada diskusi ini"})]})}),e[89]=s.comments,e[90]=s.id,e[91]=I):I=e[91];let H;e[92]!==L||e[93]!==E||e[94]!==D||e[95]!==I?(H=t.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 md:px-6 py-6",children:t.jsxs("div",{className:"flex flex-col gap-6 min-w-0",children:[L,Q,E,D,I]})}),e[92]=L,e[93]=E,e[94]=D,e[95]=I,e[96]=H):H=e[96];let P;e[97]!==y||e[98]!==H?(P=t.jsxs("div",{className:"flex flex-col gap-0 p-0",children:[y,H]}),e[97]=y,e[98]=H,e[99]=P):P=e[99];let Y;e[100]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(ye,{}),e[100]=Y):Y=e[100];let Z;return e[101]!==l||e[102]!==P?(Z=t.jsxs(Ne,{breadcrumbs:Pe,children:[l,P,Y]}),e[101]=l,e[102]=P,e[103]=Z):Z=e[103],Z}function Ke(e){return t.jsx(ve,{attachment:e},e.id)}function Fe(e){return t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-full border border-border/50",children:[t.jsx(e.icon,{className:"h-4 w-4"}),e.label]},e.label)}function Re(e){return t.jsx(oe,{variant:"secondary",className:"font-medium bg-muted text-muted-foreground hover:bg-muted/80",children:e.name},e.id)}export{Ct as default};
