import{c as _e,u as ke,r as Se,j as t,H as Ce,a as $e}from"./app-BzdYNmvy.js";import{E as De}from"./index-CoSAoSqH.js";import{A as ge,a as je}from"./avatar-BePvH8QK.js";import{B as ue}from"./badge-ImFDheKo.js";import{B as z}from"./button-EjGxs5Lm.js";import{a as he,b as Ne}from"./card-BNoT9UCg.js";import{D as Le,a as pe,b as Te,c as Ee,d as Be}from"./dropdown-menu-DRBABP5s.js";import{S as Ae}from"./separator-D78XKhZH.js";import{A as Me}from"./app-layout-B1Avs4Fu.js";import{AttachmentCard as Ie}from"./AttachmentCard-CdlMRiMm.js";import{CommentEditorToolbar as He}from"./CommentEditorToolbar-D39D78cw.js";import{u as ze,C as Pe,T as Ke}from"./CommentItem-BgUmjSJA.js";import{TiptapStyles as Fe}from"./TiptapStyles-Cpt-Eo24.js";import{E as we}from"./eye-off-D73RXbqK.js";import{c as ye}from"./utils-C9NPyLOx.js";import{M as fe}from"./message-circle-DJCHJjxd.js";import{A as Re}from"./arrow-left-g2pLBF7X.js";import{C as qe}from"./calendar-Dxcyi2oT.js";import{E as Ue}from"./eye-DT2O5nNF.js";import{E as Je}from"./ellipsis-O7dbhgx1.js";import{P as ve,T as Oe}from"./trash-2-dxIp3EWr.js";import{L as We}from"./loader-circle-B7kMoOIo.js";import{S as Ge}from"./send-CecksZqM.js";import{C as Qe}from"./clock-CL7KLEAb.js";/* empty css            */import"./index-BZFKEexj.js";import"./index-C7yKKq-w.js";import"./index-C5fkU8yh.js";import"./index-Dbz286r4.js";import"./index-BfKWEIHH.js";import"./index-BAivf4_P.js";import"./index-CQnzLM22.js";import"./index-1ZlJLos2.js";import"./file-text-Dk3YvHkQ.js";import"./stethoscope-Du2L5kXF.js";import"./underline-_x4fDokH.js";const Ve=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Xe=ye("Paperclip",Ve);const Ye=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ze=ye("Share2",Ye),et=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/posts"},{title:"Detail Diskusi",href:"#"}],a={bg:"bg-[#1548d7]",bgHover:"hover:bg-[#1237b0]",text:"text-[#1548d7]",bgLight:"bg-[#1548d7]/10",darkText:"dark:text-[#6b93f5]",darkBgLight:"dark:bg-[#1548d7]/20"};function tt(e){return e.split(" ").filter((s,i)=>i<2).map(s=>s[0]).join("").toUpperCase()}function st(e){return new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})+" WIB"}function Rt(){const e=_e.c(108),{post:s}=ke().props,[i,be]=Se.useState(!1),l=ze("Bagikan pendapat atau pengalaman klinis Anda...");let P;e[0]!==s.user.name?(P=tt(s.user.name),e[0]=s.user.name,e[1]=P):P=e[1];const me=P,K=s.comments_count??0;let F;e[2]!==l||e[3]!==s.id?(F=()=>{if(!l)return;const H=l.getHTML();!H||H==="<p></p>"||(be(!0),$e.post("/comments",{post_id:s.id,content:H},{preserveScroll:!0,onSuccess:()=>l.commands.clearContent(),onFinish:()=>be(!1)}))},e[2]=l,e[3]=s.id,e[4]=F):F=e[4];const ne=F;let r;e[5]!==s.title?(r=t.jsx(Ce,{title:s.title}),e[5]=s.title,e[6]=r):r=e[6];let R,q;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-white/5"}),q=t.jsx("div",{className:"absolute -bottom-16 -left-16 h-48 w-48 rounded-full bg-white/5"}),e[7]=R,e[8]=q):(R=e[7],q=e[8]);let U;e[9]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(z,{variant:"ghost",size:"sm",className:"mb-4 text-white/70 hover:text-white hover:bg-white/10",asChild:!0,children:t.jsxs("a",{href:"/posts",children:[t.jsx(Re,{className:"mr-1.5 h-4 w-4"}),"Kembali ke Diskusi"]})}),e[9]=U):U=e[9];let m;e[10]!==s.categories?(m=s.categories.map(lt),e[10]=s.categories,e[11]=m):m=e[11];let n;e[12]!==s.is_hidden?(n=s.is_hidden&&t.jsxs(ue,{className:"bg-red-500/30 text-white border-red-300/30 text-xs",children:[t.jsx(we,{className:"mr-1 h-3 w-3"}),"Hidden"]}),e[12]=s.is_hidden,e[13]=n):n=e[13];let o;e[14]!==m||e[15]!==n?(o=t.jsxs("div",{className:"flex items-start gap-2 mb-3 flex-wrap",children:[m,n]}),e[14]=m,e[15]=n,e[16]=o):o=e[16];let c;e[17]!==s.title?(c=t.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white leading-snug mb-4 max-w-3xl",children:s.title}),e[17]=s.title,e[18]=c):c=e[18];let d;e[19]!==me?(d=t.jsx(ge,{className:"h-10 w-10 ring-2 ring-white/30 shadow-lg",children:t.jsx(je,{className:"bg-white/20 text-white font-semibold text-sm backdrop-blur-sm",children:me})}),e[19]=me,e[20]=d):d=e[20];let x;e[21]!==s.user.name?(x=t.jsx("p",{className:"text-sm font-semibold text-white",children:s.user.name}),e[21]=s.user.name,e[22]=x):x=e[22];let h;e[23]!==s.user.specialization?(h=s.user.specialization&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:s.user.specialization}),t.jsx("span",{children:"â€¢"})]}),e[23]=s.user.specialization,e[24]=h):h=e[24];let J;e[25]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(qe,{className:"h-3 w-3"}),e[25]=J):J=e[25];let p;e[26]!==s.created_at?(p=st(s.created_at),e[26]=s.created_at,e[27]=p):p=e[27];let f;e[28]!==p?(f=t.jsxs("span",{className:"flex items-center gap-1",children:[J,p]}),e[28]=p,e[29]=f):f=e[29];let u;e[30]!==h||e[31]!==f?(u=t.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[h,f]}),e[30]=h,e[31]=f,e[32]=u):u=e[32];let b;e[33]!==x||e[34]!==u?(b=t.jsxs("div",{children:[x,u]}),e[33]=x,e[34]=u,e[35]=b):b=e[35];let g;e[36]!==d||e[37]!==b?(g=t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[d,b]}),e[36]=d,e[37]=b,e[38]=g):g=e[38];let O;e[39]!==s.views?(O=s.views.toLocaleString("id-ID"),e[39]=s.views,e[40]=O):O=e[40];const oe=`${O} views`;let j;e[41]!==oe?(j={icon:Ue,label:oe},e[41]=oe,e[42]=j):j=e[42];const ce=`${K} komentar`;let N;e[43]!==ce?(N={icon:fe,label:ce},e[43]=ce,e[44]=N):N=e[44];let w;e[45]!==j||e[46]!==N?(w=t.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:[j,N].map(it)}),e[45]=j,e[46]=N,e[47]=w):w=e[47];let v;e[48]!==g||e[49]!==w||e[50]!==o||e[51]!==c?(v=t.jsxs("div",{className:"relative overflow-hidden bg-linear-to-br from-primary via-primary to-[#3b6ef5]",children:[R,q,t.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 py-6 md:px-6 md:py-8",children:[U,o,c,g,w]})]}),e[48]=g,e[49]=w,e[50]=o,e[51]=c,e[52]=v):v=e[52];let W;e[53]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs(z,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[t.jsx(Ke,{className:"h-3.5 w-3.5"}),"Suka"]}),e[53]=W):W=e[53];let G;e[54]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs("div",{className:"flex items-center gap-2",children:[W,t.jsxs(z,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[t.jsx(Ze,{className:"h-3.5 w-3.5"}),"Share"]})]}),e[54]=G):G=e[54];let Q;e[55]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Le,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[t.jsx(Je,{className:"h-3.5 w-3.5"}),"Kelola"]})}),e[55]=Q):Q=e[55];const de=`/posts/${s.id}/edit`;let V;e[56]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(ve,{className:"mr-2 h-4 w-4"}),e[56]=V):V=e[56];let y;e[57]!==de?(y=t.jsx(pe,{asChild:!0,children:t.jsxs("a",{href:de,children:[V,"Edit Diskusi"]})}),e[57]=de,e[58]=y):y=e[58];let X,Y;e[59]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(pe,{children:[t.jsx(we,{className:"mr-2 h-4 w-4"}),"Sembunyikan"]}),Y=t.jsx(Te,{}),e[59]=X,e[60]=Y):(X=e[59],Y=e[60]);let Z;e[61]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(pe,{className:"text-destructive focus:text-destructive",children:[t.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Hapus"]}),e[61]=Z):Z=e[61];let _;e[62]!==y?(_=t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[G,t.jsxs(Ee,{children:[Q,t.jsxs(Be,{align:"end",className:"w-44",children:[y,X,Y,Z]})]})]}),e[62]=y,e[63]=_):_=e[63];let ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ae,{className:"mb-6"}),e[64]=ee):ee=e[64];let k;e[65]!==s.content?(k=t.jsx("article",{className:"prose prose-neutral dark:prose-invert max-w-none text-foreground/90 leading-[1.8] text-[15px]",dangerouslySetInnerHTML:{__html:s.content}}),e[65]=s.content,e[66]=k):k=e[66];let S;e[67]!==s.attachments?(S=s.attachments?.length>0&&t.jsxs("div",{className:"mt-8 pt-6 border-t",children:[t.jsxs("h4",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(Xe,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),"Lampiran (",s.attachments.length,")"]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:s.attachments.map(at)})]}),e[67]=s.attachments,e[68]=S):S=e[68];let C;e[69]!==_||e[70]!==k||e[71]!==S?(C=t.jsxs(he,{className:"p-5 md:p-8",children:[_,ee,k,S]}),e[69]=_,e[70]=k,e[71]=S,e[72]=C):C=e[72];let te;e[73]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Ne,{className:"pb-0 pt-5 px-5 md:px-8",children:t.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsx(ve,{className:`h-4 w-4 ${a.text} ${a.darkText}`}),"Tulis Komentar"]})}),e[73]=te):te=e[73];let se;e[74]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(ge,{className:"h-9 w-9 shrink-0 ring-2 ring-background shadow-sm mt-0.5",children:t.jsx(je,{className:`${a.bg} text-white text-xs font-semibold`,children:"AD"})}),e[74]=se):se=e[74];let $;e[75]!==l?($=t.jsxs("div",{className:"rounded-xl border bg-muted/20 dark:bg-muted/10 overflow-hidden transition-colors focus-within:border-[#1548d7]/40 focus-within:shadow-sm",children:[t.jsx(He,{editor:l}),t.jsx(De,{editor:l})]}),e[75]=l,e[76]=$):$=e[76];let D;e[77]!==i?(D=i?t.jsx(We,{className:"mr-1.5 h-3.5 w-3.5 animate-spin"}):t.jsx(Ge,{className:"mr-1.5 h-3.5 w-3.5"}),e[77]=i,e[78]=D):D=e[78];const xe=i?"Mengirim...":"Kirim Komentar";let L;e[79]!==ne||e[80]!==i||e[81]!==D||e[82]!==xe?(L=t.jsx("div",{className:"flex items-center justify-end",children:t.jsxs(z,{className:`${a.bg} ${a.bgHover} text-white shadow-md text-xs h-8`,onClick:ne,disabled:i,children:[D,xe]})}),e[79]=ne,e[80]=i,e[81]=D,e[82]=xe,e[83]=L):L=e[83];let T;e[84]!==$||e[85]!==L?(T=t.jsx(he,{className:"p-5 md:px-8 md:pb-6",children:t.jsxs("div",{className:"flex gap-3 items-start",children:[se,t.jsxs("div",{className:"flex-1 space-y-3",children:[$,L]})]})}),e[84]=$,e[85]=L,e[86]=T):T=e[86];let ae;e[87]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(fe,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),e[87]=ae):ae=e[87];let E;e[88]!==K?(E=t.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2.5",children:[ae,"Diskusi ",t.jsxs("span",{className:`text-sm font-normal ${a.text} ${a.darkText}`,children:["(",K,")"]})]}),e[88]=K,e[89]=E):E=e[89];let ie;e[90]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(ue,{variant:"outline",className:"text-xs gap-1",children:[t.jsx(Qe,{className:"h-3 w-3"}),"Terbaru"]}),e[90]=ie):ie=e[90];let B;e[91]!==E?(B=t.jsx(Ne,{className:"pb-2 px-5 md:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[E,ie]})}),e[91]=E,e[92]=B):B=e[92];let A;e[93]!==s.comments||e[94]!==s.id?(A=t.jsx(he,{className:"px-5 md:px-8 pb-6",children:s.comments?.length>0?t.jsx("div",{className:"divide-y divide-border/60",children:s.comments.map(H=>t.jsx(Pe,{comment:H,postId:s.id},H.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsx("div",{className:`rounded-2xl p-5 ${a.bgLight} ${a.darkBgLight} mb-4`,children:t.jsx(fe,{className:`h-10 w-10 ${a.text} ${a.darkText}`})}),t.jsx("p",{className:"font-semibold",children:"Belum ada komentar"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-xs",children:"Jadilah yang pertama memberikan tanggapan pada diskusi ini"})]})}),e[93]=s.comments,e[94]=s.id,e[95]=A):A=e[95];let M;e[96]!==C||e[97]!==T||e[98]!==B||e[99]!==A?(M=t.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 md:px-6 py-6",children:t.jsxs("div",{className:"flex flex-col gap-6 min-w-0",children:[C,te,T,B,A]})}),e[96]=C,e[97]=T,e[98]=B,e[99]=A,e[100]=M):M=e[100];let I;e[101]!==v||e[102]!==M?(I=t.jsxs("div",{className:"flex flex-col gap-0 p-0",children:[v,M]}),e[101]=v,e[102]=M,e[103]=I):I=e[103];let le;e[104]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Fe,{}),e[104]=le):le=e[104];let re;return e[105]!==r||e[106]!==I?(re=t.jsxs(Me,{breadcrumbs:et,children:[r,I,le]}),e[105]=r,e[106]=I,e[107]=re):re=e[107],re}function at(e){return t.jsx(Ie,{attachment:e},e.id)}function it(e){return t.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/10 backdrop-blur-sm px-3 py-1.5 text-xs text-white/80",children:[t.jsx(e.icon,{className:"h-3.5 w-3.5"}),e.label]},e.label)}function lt(e){return t.jsx(ue,{className:"bg-white/15 text-white border-white/20 text-xs backdrop-blur-sm",children:e.name},e.id)}export{Rt as default};
