import{c as $,j as i}from"./app-DFZA_hNK.js";import{B as k}from"./button-Bs7S3xZz.js";import{c as b}from"./utils-CoIT5UQg.js";import{F as S}from"./file-text-Vpl3YmeG.js";/* empty css            */import"./index-CF-CyKb3.js";const B=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],z=b("Download",B);const I=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],M=b("File",I);const q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],C=b("Image",q);function F(s){return s>=1048576?`${(s/1048576).toFixed(1)} MB`:s>=1024?`${(s/1024).toFixed(0)} KB`:`${s} B`}function D(s){const e=$.c(3),{type:t}=s;if(t==="image"){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(C,{className:"h-4 w-4"}),e[0]=l):l=e[0],l}if(t==="pdf"){let l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(S,{className:"h-4 w-4"}),e[1]=l):l=e[1],l}let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(M,{className:"h-4 w-4"}),e[2]=a):a=e[2],a}function K(s){const e=$.c(40),{attachment:t}=s,a=t.file_type==="image",l=t.file_path.startsWith("http")?t.file_path:`/storage/${t.file_path}`;if(a){let d;e[0]!==t.file_name||e[1]!==l?(d=i.jsx("img",{src:l,alt:t.file_name,className:"h-full w-full object-cover"}),e[0]=t.file_name,e[1]=l,e[2]=d):d=e[2];let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=i.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/70 via-black/20 to-transparent opacity-0 transition-opacity group-hover/att:opacity-100"}),e[3]=j):j=e[3];let h;e[4]!==t.file_name?(h=i.jsx("p",{className:"truncate text-sm font-medium text-white",children:t.file_name}),e[4]=t.file_name,e[5]=h):h=e[5];let x;e[6]!==t.file_size?(x=F(t.file_size),e[6]=t.file_size,e[7]=x):x=e[7];let p;e[8]!==x?(p=i.jsx("p",{className:"text-xs text-white/70",children:x}),e[8]=x,e[9]=p):p=e[9];let u;e[10]!==h||e[11]!==p?(u=i.jsxs("div",{className:"min-w-0",children:[h,p]}),e[10]=h,e[11]=p,e[12]=u):u=e[12];let w;e[13]===Symbol.for("react.memo_cache_sentinel")?(w=i.jsx(z,{className:"h-4 w-4"}),e[13]=w):w=e[13];let _;e[14]!==l?(_=i.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-white hover:bg-white/20",asChild:!0,children:i.jsx("a",{href:l,download:!0,children:w})}),e[14]=l,e[15]=_):_=e[15];let y;e[16]!==u||e[17]!==_?(y=i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-between p-3 opacity-0 transition-opacity group-hover/att:opacity-100",children:[u,_]}),e[16]=u,e[17]=_,e[18]=y):y=e[18];let N;return e[19]!==d||e[20]!==y?(N=i.jsx("div",{className:"group/att relative overflow-hidden rounded-xl border bg-card shadow-sm transition-all hover:shadow-md",children:i.jsxs("div",{className:"relative aspect-video w-full bg-muted/30",children:[d,j,y]})}),e[19]=d,e[20]=y,e[21]=N):N=e[21],N}let r;e[22]!==t.file_type?(r=i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-red-500/10 text-red-600 dark:bg-red-500/20 dark:text-red-400",children:i.jsx(D,{type:t.file_type})}),e[22]=t.file_type,e[23]=r):r=e[23];let o;e[24]!==t.file_name?(o=i.jsx("p",{className:"truncate text-sm font-medium",children:t.file_name}),e[24]=t.file_name,e[25]=o):o=e[25];let n;e[26]!==t.file_size?(n=F(t.file_size),e[26]=t.file_size,e[27]=n):n=e[27];let c;e[28]!==n?(c=i.jsx("p",{className:"text-xs text-muted-foreground",children:n}),e[28]=n,e[29]=c):c=e[29];let m;e[30]!==o||e[31]!==c?(m=i.jsxs("div",{className:"min-w-0 flex-1",children:[o,c]}),e[30]=o,e[31]=c,e[32]=m):m=e[32];let g;e[33]===Symbol.for("react.memo_cache_sentinel")?(g=i.jsx(z,{className:"h-4 w-4"}),e[33]=g):g=e[33];let f;e[34]!==l?(f=i.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 opacity-60 transition-opacity group-hover/att:opacity-100",asChild:!0,children:i.jsx("a",{href:l,download:!0,children:g})}),e[34]=l,e[35]=f):f=e[35];let v;return e[36]!==r||e[37]!==m||e[38]!==f?(v=i.jsxs("div",{className:"group/att relative flex items-center gap-3 rounded-xl border bg-card px-4 py-3 shadow-sm transition-all hover:shadow-md hover:-translate-y-0.5",children:[r,m,f]}),e[36]=r,e[37]=m,e[38]=f,e[39]=v):v=e[39],v}export{K as AttachmentCard};
