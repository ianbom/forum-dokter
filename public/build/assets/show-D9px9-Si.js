import{c as we,u as Xe,r as ee,j as s,H as Ye,a as _e}from"./app-Bcy3w5q3.js";import{A as et,E as De,i as tt,b as st,c as it,d as at,e as lt,u as nt,B as rt,I as ct,U as ot,S as mt,H as dt,f as ht,g as xt,L as ft,h as ut,Q as pt,j as gt,k as jt,a as bt}from"./index-CBgBpuKl.js";import{a as He,b as Be,c as qe,D as ke,d as Ue,e as Pe,f as Oe,S as Se,A as vt}from"./app-layout-CEAfMjoY.js";import{B as $e}from"./badge-DWLMs6ZS.js";import{c as je,B as _}from"./app-logo-icon-BVi2jwBU.js";import{a as Ae,b as Ee}from"./card-Cn8sJMh6.js";import{E as Ie}from"./eye-off-DpYUoiV5.js";import{M as ze}from"./message-circle-BKpuUnfH.js";import{C as Nt}from"./calendar-CNqOy14k.js";import{E as wt}from"./eye-Duh9mgSA.js";import{E as Ke}from"./ellipsis-CAFG8Vse.js";import{P as Ce,T as Qe}from"./trash-2-BmEulAaf.js";import{L as Le}from"./loader-circle-BjZxT_Yf.js";import{S as We}from"./send-CLAH-lNs.js";import{C as kt,F as yt}from"./file-text-m2Siuxz4.js";/* empty css            */import"./index-C7yKKq-w.js";import"./index-BZw_4-7P.js";import"./index-C6Aeq5NZ.js";import"./index-BDqSilVs.js";const _t=[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],St=je("CornerDownRight",_t);const $t=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Re=je("Download",$t);const Ct=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Lt=je("File",Ct);const At=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zt=je("Image",At);const Dt=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Ht=je("Paperclip",Dt);const Bt=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],Mt=je("Reply",Bt);const Tt=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Et=je("Share2",Tt);const It=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ze=je("ThumbsUp",It),Rt=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/posts"},{title:"Detail Diskusi",href:"#"}],n={bg:"bg-[#1548d7]",bgHover:"hover:bg-[#1237b0]",text:"text-[#1548d7]",bgLight:"bg-[#1548d7]/10",darkText:"dark:text-[#6b93f5]",darkBgLight:"dark:bg-[#1548d7]/20"};function Ge(t){return t.split(" ").filter((e,i)=>i<2).map(e=>e[0]).join("").toUpperCase()}function Fe(t){return t>=1048576?`${(t/1048576).toFixed(1)} MB`:t>=1024?`${(t/1024).toFixed(0)} KB`:`${t} B`}function Ft(t){return new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})+" WIB"}function qt(t){return new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ut(t){const e=we.c(3),{type:i}=t;if(i==="image"){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(zt,{className:"h-4 w-4"}),e[0]=a):a=e[0],a}if(i==="pdf"){let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(yt,{className:"h-4 w-4"}),e[1]=a):a=e[1],a}let o;return e[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Lt,{className:"h-4 w-4"}),e[2]=o):o=e[2],o}function Je(t){const e=we.c(40),{attachment:i}=t,o=i.file_type==="image",a=i.file_path.startsWith("http")?i.file_path:`/storage/${i.file_path}`;if(o){let k;e[0]!==i.file_name||e[1]!==a?(k=s.jsx("img",{src:a,alt:i.file_name,className:"h-full w-full object-cover"}),e[0]=i.file_name,e[1]=a,e[2]=k):k=e[2];let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/70 via-black/20 to-transparent opacity-0 transition-opacity group-hover/att:opacity-100"}),e[3]=y):y=e[3];let b;e[4]!==i.file_name?(b=s.jsx("p",{className:"truncate text-sm font-medium text-white",children:i.file_name}),e[4]=i.file_name,e[5]=b):b=e[5];let u;e[6]!==i.file_size?(u=Fe(i.file_size),e[6]=i.file_size,e[7]=u):u=e[7];let N;e[8]!==u?(N=s.jsx("p",{className:"text-xs text-white/70",children:u}),e[8]=u,e[9]=N):N=e[9];let d;e[10]!==b||e[11]!==N?(d=s.jsxs("div",{className:"min-w-0",children:[b,N]}),e[10]=b,e[11]=N,e[12]=d):d=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(Re,{className:"h-4 w-4"}),e[13]=v):v=e[13];let j;e[14]!==a?(j=s.jsx(_,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-white hover:bg-white/20",asChild:!0,children:s.jsx("a",{href:a,download:!0,children:v})}),e[14]=a,e[15]=j):j=e[15];let x;e[16]!==d||e[17]!==j?(x=s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-between p-3 opacity-0 transition-opacity group-hover/att:opacity-100",children:[d,j]}),e[16]=d,e[17]=j,e[18]=x):x=e[18];let h;return e[19]!==k||e[20]!==x?(h=s.jsx("div",{className:"group/att relative overflow-hidden rounded-xl border bg-card shadow-sm transition-all hover:shadow-md",children:s.jsxs("div",{className:"relative aspect-video w-full bg-muted/30",children:[k,y,x]})}),e[19]=k,e[20]=x,e[21]=h):h=e[21],h}let m;e[22]!==i.file_type?(m=s.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-red-500/10 text-red-600 dark:bg-red-500/20 dark:text-red-400",children:s.jsx(Ut,{type:i.file_type})}),e[22]=i.file_type,e[23]=m):m=e[23];let r;e[24]!==i.file_name?(r=s.jsx("p",{className:"truncate text-sm font-medium",children:i.file_name}),e[24]=i.file_name,e[25]=r):r=e[25];let l;e[26]!==i.file_size?(l=Fe(i.file_size),e[26]=i.file_size,e[27]=l):l=e[27];let c;e[28]!==l?(c=s.jsx("p",{className:"text-xs text-muted-foreground",children:l}),e[28]=l,e[29]=c):c=e[29];let f;e[30]!==r||e[31]!==c?(f=s.jsxs("div",{className:"min-w-0 flex-1",children:[r,c]}),e[30]=r,e[31]=c,e[32]=f):f=e[32];let p;e[33]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Re,{className:"h-4 w-4"}),e[33]=p):p=e[33];let g;e[34]!==a?(g=s.jsx(_,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 opacity-60 transition-opacity group-hover/att:opacity-100",asChild:!0,children:s.jsx("a",{href:a,download:!0,children:p})}),e[34]=a,e[35]=g):g=e[35];let w;return e[36]!==m||e[37]!==f||e[38]!==g?(w=s.jsxs("div",{className:"group/att relative flex items-center gap-3 rounded-xl border bg-card px-4 py-3 shadow-sm transition-all hover:shadow-md hover:-translate-y-0.5",children:[m,f,g]}),e[36]=m,e[37]=f,e[38]=g,e[39]=w):w=e[39],w}function I(t){const e=we.c(5),{onClick:i,isActive:o,title:a,children:m}=t,l=`inline-flex items-center justify-center rounded p-1 text-sm transition-colors ${(o===void 0?!1:o)?"bg-[#1548d7]/10 text-[#1548d7] dark:bg-[#1548d7]/20 dark:text-[#6b93f5]":"text-muted-foreground hover:bg-muted hover:text-foreground"}`;let c;return e[0]!==m||e[1]!==i||e[2]!==l||e[3]!==a?(c=s.jsx("button",{type:"button",onClick:i,title:a,className:l,children:m}),e[0]=m,e[1]=i,e[2]=l,e[3]=a,e[4]=c):c=e[4],c}function Me({editor:t}){const e=ee.useRef(null),[i,o]=ee.useState(!1),a=ee.useCallback(async r=>{const l=r.target.files?.[0];if(!l||!t)return;o(!0);const c=new FormData;c.append("image",l);try{const f=document.querySelector('meta[name="csrf-token"]')?.content??"",p=await fetch("/posts/upload-image",{method:"POST",headers:{"X-CSRF-TOKEN":f,Accept:"application/json"},body:c});if(!p.ok)return;const g=await p.json();g.url&&t.chain().focus().setImage({src:g.url}).run()}catch{console.error("Image upload failed")}finally{o(!1),e.current&&(e.current.value="")}},[t]),m=ee.useCallback(()=>{if(!t)return;const r=t.getAttributes("link").href,l=window.prompt("Masukkan URL:",r);if(l!==null){if(l===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:l}).run()}},[t]);return t?s.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 border-b bg-muted/20 dark:bg-muted/10 px-2 py-1.5",children:[s.jsx(I,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),title:"Bold",children:s.jsx(rt,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),title:"Italic",children:s.jsx(ct,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),title:"Underline",children:s.jsx(ot,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),title:"Strikethrough",children:s.jsx(mt,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleHighlight().run(),isActive:t.isActive("highlight"),title:"Highlight",children:s.jsx(dt,{className:"h-3.5 w-3.5"})}),s.jsx(Se,{orientation:"vertical",className:"mx-1 h-5"}),s.jsx(I,{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),isActive:t.isActive("heading",{level:2}),title:"Heading 2",children:s.jsx(ht,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),isActive:t.isActive("heading",{level:3}),title:"Heading 3",children:s.jsx(xt,{className:"h-3.5 w-3.5"})}),s.jsx(Se,{orientation:"vertical",className:"mx-1 h-5"}),s.jsx(I,{onClick:()=>t.chain().focus().toggleBulletList().run(),isActive:t.isActive("bulletList"),title:"Bullet List",children:s.jsx(ft,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleOrderedList().run(),isActive:t.isActive("orderedList"),title:"Ordered List",children:s.jsx(ut,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>t.chain().focus().toggleBlockquote().run(),isActive:t.isActive("blockquote"),title:"Blockquote",children:s.jsx(pt,{className:"h-3.5 w-3.5"})}),s.jsx(Se,{orientation:"vertical",className:"mx-1 h-5"}),s.jsx(I,{onClick:m,isActive:t.isActive("link"),title:"Link",children:s.jsx(gt,{className:"h-3.5 w-3.5"})}),s.jsx(I,{onClick:()=>e.current?.click(),title:"Upload Gambar",children:i?s.jsx(Le,{className:"h-3.5 w-3.5 animate-spin"}):s.jsx(jt,{className:"h-3.5 w-3.5"})}),s.jsx("input",{ref:e,type:"file",accept:"image/*",className:"hidden",onChange:a})]}):null}function Te(t){const e=we.c(11);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=tt.configure({heading:{levels:[2,3]}}),e[0]=i):i=e[0];let o,a,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=st.configure({multicolor:!1}),a=it.configure({openOnClick:!1,HTMLAttributes:{class:"text-[#1548d7] dark:text-[#6b93f5] underline cursor-pointer"}}),m=at.configure({HTMLAttributes:{class:"rounded-lg max-w-full mx-auto my-3 shadow-sm"},allowBase64:!1}),e[1]=o,e[2]=a,e[3]=m):(o=e[1],a=e[2],m=e[3]);let r;e[4]!==t?(r=lt.configure({placeholder:t}),e[4]=t,e[5]=r):r=e[5];let l;e[6]!==r?(l=[i,bt,o,a,m,r],e[6]=r,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c={attributes:{class:"prose prose-sm prose-neutral dark:prose-invert max-w-none min-h-[100px] px-4 py-3 focus:outline-none text-sm leading-relaxed"}},e[8]=c):c=e[8];let f;return e[9]!==l?(f={extensions:l,editorProps:c},e[9]=l,e[10]=f):f=e[10],nt(f)}function Ve(t){const e=we.c(105),{comment:i,postId:o,depth:a}=t,m=a===void 0?0:a,[r,l]=ee.useState(!1),[c,f]=ee.useState(!1),[p,g]=ee.useState(!1),[w,k]=ee.useState(!1),[y,b]=ee.useState(!1),[u,N]=ee.useState(!1),d=m>0;let v;e[0]!==i.user.name?(v=Ge(i.user.name),e[0]=i.user.name,e[1]=v):v=e[1];const j=v,x=Te(`Balas ${i.user.name}...`),h=Te("Edit komentar...");let R;e[2]!==i.id||e[3]!==o||e[4]!==x?(R=()=>{if(!x)return;const oe=x.getHTML();!oe||oe==="<p></p>"||(f(!0),_e.post("/comments",{post_id:o,parent_id:i.id,content:oe},{preserveScroll:!0,onSuccess:()=>{x.commands.clearContent(),l(!1)},onFinish:()=>f(!1)}))},e[2]=i.id,e[3]=o,e[4]=x,e[5]=R):R=e[5];const te=R;let F;e[6]!==i.content||e[7]!==h?(F=()=>{h&&h.commands.setContent(i.content),g(!0)},e[6]=i.content,e[7]=h,e[8]=F):F=e[8];const se=F;let q;e[9]!==h?.commands?(q=()=>{g(!1),h?.commands.clearContent()},e[9]=h?.commands,e[10]=q):q=e[10];const de=q;let he;e[11]!==i.id||e[12]!==h?(he=()=>{if(!h)return;const oe=h.getHTML();!oe||oe==="<p></p>"||(k(!0),_e.put(`/comments/${i.id}`,{content:oe},{preserveScroll:!0,onSuccess:()=>g(!1),onFinish:()=>k(!1)}))},e[11]=i.id,e[12]=h,e[13]=he):he=e[13];const ie=he;let xe;e[14]!==i.id?(xe=()=>{confirm("Apakah Anda yakin ingin menghapus komentar ini?")&&(b(!0),_e.delete(`/comments/${i.id}`,{preserveScroll:!0,onFinish:()=>b(!1)}))},e[14]=i.id,e[15]=xe):xe=e[15];const ae=xe,le=d?"ml-5 md:ml-8":"";let S;e[16]!==d?(S=d&&s.jsx("div",{className:"absolute -left-5 md:-left-8 top-0 bottom-0 w-px bg-border dark:bg-border/50"}),e[16]=d,e[17]=S):S=e[17];let U;e[18]!==d?(U=d&&s.jsx("div",{className:"absolute -left-5 md:-left-8 top-9 h-px w-4 md:w-7 bg-border dark:bg-border/50"}),e[18]=d,e[19]=U):U=e[19];const fe=`${d?"h-8 w-8":"h-10 w-10"} shrink-0 ring-2 ring-background shadow-sm`;let P;e[20]!==j?(P=s.jsx(Be,{className:`${n.bg} text-white text-xs font-semibold`,children:j}),e[20]=j,e[21]=P):P=e[21];let ne;e[22]!==fe||e[23]!==P?(ne=s.jsx(He,{className:fe,children:P}),e[22]=fe,e[23]=P,e[24]=ne):ne=e[24];let O;e[25]!==i.user.name?(O=s.jsx("span",{className:`text-sm font-semibold ${n.text} ${n.darkText}`,children:i.user.name}),e[25]=i.user.name,e[26]=O):O=e[26];let $;e[27]!==i.user.specialization?($=i.user.specialization&&s.jsx($e,{className:`${n.bgLight} ${n.text} ${n.darkBgLight} ${n.darkText} border-0 text-[10px] font-medium px-1.5 py-0`,children:i.user.specialization}),e[27]=i.user.specialization,e[28]=$):$=e[28];let K;e[29]!==i.created_at?(K=qt(i.created_at),e[29]=i.created_at,e[30]=K):K=e[30];let Q;e[31]!==K?(Q=s.jsx("span",{className:"text-[11px] text-muted-foreground",children:K}),e[31]=K,e[32]=Q):Q=e[32];let W;e[33]!==O||e[34]!==$||e[35]!==Q?(W=s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[O,$,Q]}),e[33]=O,e[34]=$,e[35]=Q,e[36]=W):W=e[36];let Z;e[37]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(qe,{asChild:!0,children:s.jsx(_,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ke,{className:"h-3.5 w-3.5"})})}),e[37]=Z):Z=e[37];let me;e[38]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(Ce,{className:"mr-2 h-4 w-4"}),e[38]=me):me=e[38];let C;e[39]!==se?(C=s.jsxs(ke,{onClick:se,children:[me,"Edit"]}),e[39]=se,e[40]=C):C=e[40];let G;e[41]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(Ue,{}),e[41]=G):G=e[41];let J;e[42]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(Qe,{className:"mr-2 h-4 w-4"}),e[42]=J):J=e[42];const ue=y?"Menghapus...":"Hapus";let V;e[43]!==y||e[44]!==ae||e[45]!==ue?(V=s.jsxs(ke,{className:"text-destructive focus:text-destructive",onClick:ae,disabled:y,children:[J,ue]}),e[43]=y,e[44]=ae,e[45]=ue,e[46]=V):V=e[46];let L;e[47]!==C||e[48]!==V?(L=s.jsxs(Pe,{children:[Z,s.jsxs(Oe,{align:"end",className:"w-40",children:[C,G,V]})]}),e[47]=C,e[48]=V,e[49]=L):L=e[49];let A;e[50]!==W||e[51]!==L?(A=s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[W,L]}),e[50]=W,e[51]=L,e[52]=A):A=e[52];let re;e[53]!==i.content||e[54]!==h||e[55]!==p||e[56]!==de||e[57]!==ie||e[58]!==w?(re=p?s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:[s.jsx(Me,{editor:h}),s.jsx(De,{editor:h})]}),s.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[s.jsx(_,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:de,children:"Batal"}),s.jsxs(_,{size:"sm",className:`h-7 text-xs ${n.bg} ${n.bgHover} text-white`,onClick:ie,disabled:w,children:[w?s.jsx(Le,{className:"mr-1 h-3 w-3 animate-spin"}):s.jsx(Ce,{className:"mr-1 h-3 w-3"}),"Simpan"]})]})]}):s.jsx("div",{className:"prose prose-sm prose-neutral dark:prose-invert max-w-none text-sm leading-relaxed text-foreground/85",dangerouslySetInnerHTML:{__html:i.content}}),e[53]=i.content,e[54]=h,e[55]=p,e[56]=de,e[57]=ie,e[58]=w,e[59]=re):re=e[59];let z;e[60]!==i.attachments?(z=i.attachments&&i.attachments.length>0&&s.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:i.attachments.map(Pt)}),e[60]=i.attachments,e[61]=z):z=e[61];let D;e[62]!==A||e[63]!==re||e[64]!==z?(D=s.jsxs("div",{className:"rounded-2xl rounded-tl-sm bg-muted/50 dark:bg-muted/30 px-4 py-3 transition-colors hover:bg-muted/70 dark:hover:bg-muted/40",children:[A,re,z]}),e[62]=A,e[63]=re,e[64]=z,e[65]=D):D=e[65];const pe=`h-7 px-2 text-xs gap-1 ${u?`${n.text} ${n.darkText}`:"text-muted-foreground"}`;let H;e[66]!==u?(H=()=>N(!u),e[66]=u,e[67]=H):H=e[67];const ge=`h-3.5 w-3.5 ${u?"fill-current":""}`;let B;e[68]!==ge?(B=s.jsx(Ze,{className:ge}),e[68]=ge,e[69]=B):B=e[69];const ce=u?1:0;let M;e[70]!==pe||e[71]!==H||e[72]!==B||e[73]!==ce?(M=s.jsxs(_,{variant:"ghost",size:"sm",className:pe,onClick:H,children:[B,ce]}),e[70]=pe,e[71]=H,e[72]=B,e[73]=ce,e[74]=M):M=e[74];let T;e[75]!==d||e[76]!==r?(T=!d&&s.jsxs(_,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-muted-foreground gap-1",onClick:()=>l(!r),children:[s.jsx(Mt,{className:"h-3.5 w-3.5"}),"Balas"]}),e[75]=d,e[76]=r,e[77]=T):T=e[77];let X;e[78]!==M||e[79]!==T?(X=s.jsxs("div",{className:"mt-1.5 flex items-center gap-0.5 px-1",children:[M,T]}),e[78]=M,e[79]=T,e[80]=X):X=e[80];let Y;e[81]!==te||e[82]!==x||e[83]!==r||e[84]!==c?(Y=r&&s.jsxs("div",{className:"mt-2 ml-1 flex gap-2.5 items-start",children:[s.jsx(St,{className:"mt-3 h-4 w-4 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:[s.jsx(Me,{editor:x}),s.jsx(De,{editor:x})]}),s.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[s.jsx(_,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{l(!1),x?.commands.clearContent()},children:"Batal"}),s.jsxs(_,{size:"sm",className:`h-7 text-xs ${n.bg} ${n.bgHover} text-white`,onClick:te,disabled:c,children:[c?s.jsx(Le,{className:"mr-1 h-3 w-3 animate-spin"}):s.jsx(We,{className:"mr-1 h-3 w-3"}),"Kirim"]})]})]})]}),e[81]=te,e[82]=x,e[83]=r,e[84]=c,e[85]=Y):Y=e[85];let E;e[86]!==D||e[87]!==X||e[88]!==Y?(E=s.jsxs("div",{className:"flex-1 min-w-0",children:[D,X,Y]}),e[86]=D,e[87]=X,e[88]=Y,e[89]=E):E=e[89];let be;e[90]!==ne||e[91]!==E?(be=s.jsxs("div",{className:"flex gap-3",children:[ne,E]}),e[90]=ne,e[91]=E,e[92]=be):be=e[92];let ve;e[93]!==U||e[94]!==be||e[95]!==S?(ve=s.jsxs("div",{className:"group relative py-5",children:[S,U,be]}),e[93]=U,e[94]=be,e[95]=S,e[96]=ve):ve=e[96];let Ne;e[97]!==i.replies||e[98]!==m||e[99]!==o?(Ne=i.replies&&i.replies.map(oe=>s.jsx(Ve,{comment:oe,postId:o,depth:m+1},oe.id)),e[97]=i.replies,e[98]=m,e[99]=o,e[100]=Ne):Ne=e[100];let ye;return e[101]!==ve||e[102]!==Ne||e[103]!==le?(ye=s.jsxs("div",{className:le,children:[ve,Ne]}),e[101]=ve,e[102]=Ne,e[103]=le,e[104]=ye):ye=e[104],ye}function Pt(t){return s.jsx(Je,{attachment:t},t.id)}function hs(){const t=we.c(109),{post:e}=Xe().props,[i,o]=ee.useState(!1),a=Te("Bagikan pendapat atau pengalaman klinis Anda...");let m;t[0]!==e.user.name?(m=Ge(e.user.name),t[0]=e.user.name,t[1]=m):m=t[1];const r=m,l=e.comments_count??0;let c;t[2]!==a||t[3]!==e.id?(c=()=>{if(!a)return;const E=a.getHTML();!E||E==="<p></p>"||(o(!0),_e.post("/comments",{post_id:e.id,content:E},{preserveScroll:!0,onSuccess:()=>{a.commands.clearContent()},onFinish:()=>o(!1)}))},t[2]=a,t[3]=e.id,t[4]=c):c=t[4];const f=c;let p;t[5]!==e.title?(p=s.jsx(Ye,{title:e.title}),t[5]=e.title,t[6]=p):p=t[6];let g,w,k;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-white/5"}),w=s.jsx("div",{className:"absolute -bottom-16 -left-16 h-48 w-48 rounded-full bg-white/5"}),k=s.jsx("div",{className:"absolute top-1/2 left-1/3 h-32 w-32 rounded-full bg-white/3"}),t[7]=g,t[8]=w,t[9]=k):(g=t[7],w=t[8],k=t[9]);let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(_,{variant:"ghost",size:"sm",className:"mb-4 text-white/70 hover:text-white hover:bg-white/10",asChild:!0,children:s.jsxs("a",{href:"/posts",children:[s.jsx(et,{className:"mr-1.5 h-4 w-4"}),"Kembali ke Diskusi"]})}),t[10]=y):y=t[10];let b;t[11]!==e.category.name?(b=s.jsx($e,{className:"bg-white/15 text-white border-white/20 text-xs backdrop-blur-sm",children:e.category.name}),t[11]=e.category.name,t[12]=b):b=t[12];let u;t[13]!==e.is_hidden?(u=e.is_hidden&&s.jsxs($e,{className:"bg-red-500/30 text-white border-red-300/30 text-xs",children:[s.jsx(Ie,{className:"mr-1 h-3 w-3"}),"Hidden"]}),t[13]=e.is_hidden,t[14]=u):u=t[14];let N;t[15]!==b||t[16]!==u?(N=s.jsxs("div",{className:"flex items-start gap-2 mb-3 flex-wrap",children:[b,u]}),t[15]=b,t[16]=u,t[17]=N):N=t[17];let d;t[18]!==e.title?(d=s.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white leading-snug mb-4 max-w-3xl",children:e.title}),t[18]=e.title,t[19]=d):d=t[19];let v;t[20]!==r?(v=s.jsx(He,{className:"h-10 w-10 ring-2 ring-white/30 shadow-lg",children:s.jsx(Be,{className:"bg-white/20 text-white font-semibold text-sm backdrop-blur-sm",children:r})}),t[20]=r,t[21]=v):v=t[21];let j;t[22]!==e.user.name?(j=s.jsx("p",{className:"text-sm font-semibold text-white",children:e.user.name}),t[22]=e.user.name,t[23]=j):j=t[23];let x;t[24]!==e.user.specialization?(x=e.user.specialization&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:e.user.specialization}),s.jsx("span",{children:"â€¢"})]}),t[24]=e.user.specialization,t[25]=x):x=t[25];let h;t[26]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(Nt,{className:"h-3 w-3"}),t[26]=h):h=t[26];let R;t[27]!==e.created_at?(R=Ft(e.created_at),t[27]=e.created_at,t[28]=R):R=t[28];let te;t[29]!==R?(te=s.jsxs("span",{className:"flex items-center gap-1",children:[h,R]}),t[29]=R,t[30]=te):te=t[30];let F;t[31]!==x||t[32]!==te?(F=s.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[x,te]}),t[31]=x,t[32]=te,t[33]=F):F=t[33];let se;t[34]!==j||t[35]!==F?(se=s.jsxs("div",{children:[j,F]}),t[34]=j,t[35]=F,t[36]=se):se=t[36];let q;t[37]!==v||t[38]!==se?(q=s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[v,se]}),t[37]=v,t[38]=se,t[39]=q):q=t[39];let de;t[40]!==e.views?(de=e.views.toLocaleString("id-ID"),t[40]=e.views,t[41]=de):de=t[41];const he=`${de} views`;let ie;t[42]!==he?(ie={icon:wt,label:he},t[42]=he,t[43]=ie):ie=t[43];const xe=`${l} komentar`;let ae;t[44]!==xe?(ae={icon:ze,label:xe},t[44]=xe,t[45]=ae):ae=t[45];let le;t[46]!==ie||t[47]!==ae?(le=s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:[ie,ae].map(Kt)}),t[46]=ie,t[47]=ae,t[48]=le):le=t[48];let S;t[49]!==d||t[50]!==q||t[51]!==le||t[52]!==N?(S=s.jsxs("div",{className:"relative overflow-hidden bg-linear-to-br from-primary via-primary to-[#3b6ef5]",children:[g,w,k,s.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 py-6 md:px-6 md:py-8",children:[y,N,d,q,le]})]}),t[49]=d,t[50]=q,t[51]=le,t[52]=N,t[53]=S):S=t[53];let U;t[54]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsxs(_,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[s.jsx(Ze,{className:"h-3.5 w-3.5"}),"Suka"]}),t[54]=U):U=t[54];let fe;t[55]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsxs("div",{className:"flex items-center gap-2",children:[U,s.jsxs(_,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[s.jsx(Et,{className:"h-3.5 w-3.5"}),"Share"]})]}),t[55]=fe):fe=t[55];let P;t[56]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(qe,{asChild:!0,children:s.jsxs(_,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[s.jsx(Ke,{className:"h-3.5 w-3.5"}),"Kelola"]})}),t[56]=P):P=t[56];const ne=`/posts/${e.id}/edit`;let O;t[57]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(Ce,{className:"mr-2 h-4 w-4"}),t[57]=O):O=t[57];let $;t[58]!==ne?($=s.jsx(ke,{asChild:!0,children:s.jsxs("a",{href:ne,children:[O,"Edit Diskusi"]})}),t[58]=ne,t[59]=$):$=t[59];let K,Q;t[60]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(ke,{children:[s.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Sembunyikan"]}),Q=s.jsx(Ue,{}),t[60]=K,t[61]=Q):(K=t[60],Q=t[61]);let W;t[62]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsxs(ke,{className:"text-destructive focus:text-destructive",children:[s.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Hapus"]}),t[62]=W):W=t[62];let Z;t[63]!==$?(Z=s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[fe,s.jsxs(Pe,{children:[P,s.jsxs(Oe,{align:"end",className:"w-44",children:[$,K,Q,W]})]})]}),t[63]=$,t[64]=Z):Z=t[64];let me;t[65]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(Se,{className:"mb-6"}),t[65]=me):me=t[65];let C;t[66]!==e.content?(C=s.jsx("article",{className:"prose prose-neutral dark:prose-invert max-w-none text-foreground/90 leading-[1.8] text-[15px]",dangerouslySetInnerHTML:{__html:e.content}}),t[66]=e.content,t[67]=C):C=t[67];let G;t[68]!==e.attachments?(G=e.attachments&&e.attachments.length>0&&s.jsxs("div",{className:"mt-8 pt-6 border-t",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[s.jsx("div",{className:`rounded-lg p-1.5 ${n.bgLight} ${n.darkBgLight}`,children:s.jsx(Ht,{className:`h-4 w-4 ${n.text} ${n.darkText}`})}),"Lampiran (",e.attachments.length,")"]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:e.attachments.map(Ot)})]}),t[68]=e.attachments,t[69]=G):G=t[69];let J;t[70]!==Z||t[71]!==C||t[72]!==G?(J=s.jsxs(Ae,{className:"p-5 md:p-8",children:[Z,me,C,G]}),t[70]=Z,t[71]=C,t[72]=G,t[73]=J):J=t[73];let ue;t[74]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(Ee,{className:"pb-0 pt-5 px-5 md:px-8",children:s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(Ce,{className:`h-4 w-4 ${n.text} ${n.darkText}`}),"Tulis Komentar"]})}),t[74]=ue):ue=t[74];let V;t[75]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(He,{className:"h-9 w-9 shrink-0 ring-2 ring-background shadow-sm mt-0.5",children:s.jsx(Be,{className:`${n.bg} text-white text-xs font-semibold`,children:"AD"})}),t[75]=V):V=t[75];let L;t[76]!==a?(L=s.jsxs("div",{className:"rounded-xl border bg-muted/20 dark:bg-muted/10 overflow-hidden transition-colors focus-within:border-[#1548d7]/40 focus-within:shadow-sm",children:[s.jsx(Me,{editor:a}),s.jsx(De,{editor:a})]}),t[76]=a,t[77]=L):L=t[77];let A;t[78]!==i?(A=i?s.jsx(Le,{className:"mr-1.5 h-3.5 w-3.5 animate-spin"}):s.jsx(We,{className:"mr-1.5 h-3.5 w-3.5"}),t[78]=i,t[79]=A):A=t[79];const re=i?"Mengirim...":"Kirim Komentar";let z;t[80]!==f||t[81]!==i||t[82]!==A||t[83]!==re?(z=s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(_,{className:`${n.bg} ${n.bgHover} text-white shadow-md text-xs h-8`,onClick:f,disabled:i,children:[A,re]})}),t[80]=f,t[81]=i,t[82]=A,t[83]=re,t[84]=z):z=t[84];let D;t[85]!==L||t[86]!==z?(D=s.jsx(Ae,{className:"p-5 md:px-8 md:pb-6",children:s.jsxs("div",{className:"flex gap-3 items-start",children:[V,s.jsxs("div",{className:"flex-1 space-y-3",children:[L,z]})]})}),t[85]=L,t[86]=z,t[87]=D):D=t[87];let pe;t[88]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx("div",{className:`rounded-lg p-1.5 ${n.bgLight} ${n.darkBgLight}`,children:s.jsx(ze,{className:`h-4 w-4 ${n.text} ${n.darkText}`})}),t[88]=pe):pe=t[88];let H;t[89]!==l?(H=s.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2.5",children:[pe,"Diskusi",s.jsxs("span",{className:`text-sm font-normal ${n.text} ${n.darkText}`,children:["(",l,")"]})]}),t[89]=l,t[90]=H):H=t[90];let ge;t[91]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsxs($e,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(kt,{className:"h-3 w-3"}),"Terbaru"]}),t[91]=ge):ge=t[91];let B;t[92]!==H?(B=s.jsx(Ee,{className:"pb-2 px-5 md:px-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[H,ge]})}),t[92]=H,t[93]=B):B=t[93];let ce;t[94]!==e.comments||t[95]!==e.id?(ce=s.jsx(Ae,{className:"px-5 md:px-8 pb-6",children:e.comments&&e.comments.length>0?s.jsx("div",{className:"divide-y divide-border/60",children:e.comments.map(E=>s.jsx(Ve,{comment:E,postId:e.id},E.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:`rounded-2xl p-5 ${n.bgLight} ${n.darkBgLight} mb-4`,children:s.jsx(ze,{className:`h-10 w-10 ${n.text} ${n.darkText}`})}),s.jsx("p",{className:"font-semibold",children:"Belum ada komentar"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-xs",children:"Jadilah yang pertama memberikan tanggapan pada diskusi ini"})]})}),t[94]=e.comments,t[95]=e.id,t[96]=ce):ce=t[96];let M;t[97]!==J||t[98]!==D||t[99]!==B||t[100]!==ce?(M=s.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 md:px-6 py-6",children:s.jsx("div",{className:"grid gap-6 lg:grid-cols-[1fr]",children:s.jsxs("div",{className:"flex flex-col gap-6 min-w-0",children:[J,ue,D,B,ce]})})}),t[97]=J,t[98]=D,t[99]=B,t[100]=ce,t[101]=M):M=t[101];let T;t[102]!==S||t[103]!==M?(T=s.jsxs("div",{className:"flex flex-col gap-0 p-0",children:[S,M]}),t[102]=S,t[103]=M,t[104]=T):T=t[104];let X;t[105]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("style",{children:`
                .tiptap p.is-editor-empty:first-child::before {
                    content: attr(data-placeholder);
                    float: left;
                    color: var(--muted-foreground);
                    opacity: 0.4;
                    pointer-events: none;
                    height: 0;
                }
                .tiptap img {
                    max-width: 100%;
                    height: auto;
                    border-radius: 0.5rem;
                    margin: 0.75rem auto;
                    display: block;
                    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                }
                .tiptap img.ProseMirror-selectednode {
                    outline: 2px solid #1548d7;
                    outline-offset: 2px;
                    border-radius: 0.5rem;
                }
                .tiptap blockquote {
                    border-left: 3px solid #1548d7;
                    padding-left: 1rem;
                    font-style: italic;
                    color: var(--muted-foreground);
                }
                .tiptap pre {
                    background: var(--muted);
                    border-radius: 0.5rem;
                    padding: 1rem;
                    font-family: monospace;
                    overflow-x: auto;
                }
                .tiptap mark {
                    background-color: #fef08a;
                    border-radius: 0.125rem;
                    padding: 0.125rem 0.25rem;
                }
                .dark .tiptap mark {
                    background-color: #854d0e;
                    color: #fef9c3;
                }
                .tiptap hr {
                    border: none;
                    border-top: 2px solid var(--border);
                    margin: 1.5rem 0;
                }
                .tiptap a {
                    color: #1548d7;
                    text-decoration: underline;
                    cursor: pointer;
                }
                .dark .tiptap a {
                    color: #6b93f5;
                }
                .tiptap ul, .tiptap ol {
                    padding-left: 1.5rem;
                }
                .tiptap h2 {
                    font-size: 1.5rem;
                    font-weight: 700;
                    line-height: 1.3;
                    margin-top: 1.25rem;
                    margin-bottom: 0.5rem;
                }
                .tiptap h3 {
                    font-size: 1.25rem;
                    font-weight: 600;
                    line-height: 1.4;
                    margin-top: 1rem;
                    margin-bottom: 0.5rem;
                }
            `}),t[105]=X):X=t[105];let Y;return t[106]!==p||t[107]!==T?(Y=s.jsxs(vt,{breadcrumbs:Rt,children:[p,T,X]}),t[106]=p,t[107]=T,t[108]=Y):Y=t[108],Y}function Ot(t){return s.jsx(Je,{attachment:t},t.id)}function Kt(t){return s.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/10 backdrop-blur-sm px-3 py-1.5 text-xs text-white/80",children:[s.jsx(t.icon,{className:"h-3.5 w-3.5"}),t.label]},t.label)}export{hs as default};
