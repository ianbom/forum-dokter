import{c as me,u as oe,r as ne,j as t,H as de,a as ce}from"./app-BuUexwDi.js";import{E as xe}from"./index-DDCeR7CW.js";import{a as pe,b as fe,A as he}from"./avatar-C3R9-eLF.js";import{B as ae}from"./badge-pj3eQuvK.js";import{B as ie}from"./button-Ch4PLyXN.js";import{C as te,a as le}from"./card-C8cl2VpY.js";import{A as ue}from"./app-layout-C5h4wj2o.js";import{AttachmentCard as ge}from"./AttachmentCard-BVDZrqyj.js";import{CommentEditorToolbar as be}from"./CommentEditorToolbar-Da9ZyowA.js";import{u as je,C as Ne}from"./CommentItem-BlouRTY3.js";import{TiptapStyles as ve}from"./TiptapStyles-Cd6bOSXt.js";import{E as _e}from"./eye-off-BGAYKZnd.js";import{M as se}from"./message-circle-CvneEv7v.js";import{c as we}from"./utils-BhMqegVg.js";import{A as ke}from"./arrow-left-Cij8uJnx.js";import{C as ye}from"./calendar-DJAIpsZE.js";import{P as $e}from"./trash-2-DFO791Vp.js";import{L as Ce}from"./loader-circle-DBoUwheB.js";import{S as Le}from"./send-BV84nyLG.js";import{C as Se}from"./clock-DMV3XTdw.js";/* empty css            */import"./index-kp72P-hq.js";import"./index-C7yKKq-w.js";import"./index-DvQ3So8b.js";import"./index-eP41FW3O.js";import"./index-BAtU6RP1.js";import"./index-G02O2CzH.js";import"./dropdown-menu-BPVWlU_S.js";import"./index-BBPO6n0P.js";import"./index-CW0XjKIx.js";import"./index-Dmi1pkzu.js";import"./index-CR6P-4Ga.js";import"./file-text-CiHlpheZ.js";import"./plus-BjELh9wl.js";import"./separator-DeqJgcmW.js";import"./underline-DqGK5iTT.js";import"./ellipsis-Oy7yOKQe.js";const Be=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Te=we("Paperclip",Be),Ae=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/posts"},{title:"Detail Diskusi",href:"#"}],a={bg:"bg-[#1548d7]",bgHover:"hover:bg-[#1237b0]",text:"text-[#1548d7]",bgLight:"bg-[#1548d7]/10",darkText:"dark:text-[#6b93f5]",darkBgLight:"dark:bg-[#1548d7]/20"};function De(e){return e.split(" ").filter((s,r)=>r<2).map(s=>s[0]).join("").toUpperCase()}function Ee(e){return new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})+" WIB"}function vt(){const e=me.c(97),{post:s}=oe().props,[r,re]=ne.useState(!1),i=je("Bagikan pendapat atau pengalaman klinis Anda...");let P;e[0]!==s.user.name?(P=De(s.user.name),e[0]=s.user.name,e[1]=P):P=e[1];const X=P,z=s.comments_count??0;let M;e[2]!==i||e[3]!==s.id?(M=()=>{if(!i)return;const H=i.getHTML();!H||H==="<p></p>"||(re(!0),ce.post("/comments",{post_id:s.id,content:H},{preserveScroll:!0,onSuccess:()=>i.commands.clearContent(),onFinish:()=>re(!1)}))},e[2]=i,e[3]=s.id,e[4]=M):M=e[4];const Y=M;let l;e[5]!==s.title?(l=t.jsx(de,{title:s.title}),e[5]=s.title,e[6]=l):l=e[6];let K,F,R,J;e[7]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px]"}),F=t.jsx("div",{className:"pointer-events-none absolute -top-40 right-0 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),R=t.jsx("div",{className:"pointer-events-none absolute -bottom-40 -left-10 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl"}),J=t.jsx("div",{className:"pointer-events-none absolute top-1/4 left-1/3 h-48 w-48 rounded-full bg-indigo-500/5 blur-3xl"}),e[7]=K,e[8]=F,e[9]=R,e[10]=J):(K=e[7],F=e[8],R=e[9],J=e[10]);let O;e[11]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(ie,{variant:"ghost",size:"sm",className:"mb-6 text-muted-foreground hover:text-foreground -ml-2.5",asChild:!0,children:t.jsxs("a",{href:"/posts",children:[t.jsx(ke,{className:"mr-1.5 h-4 w-4"}),"Kembali ke Diskusi"]})}),e[11]=O):O=e[11];let m;e[12]!==s.categories?(m=s.categories.map(Pe),e[12]=s.categories,e[13]=m):m=e[13];let o;e[14]!==s.is_hidden?(o=s.is_hidden&&t.jsxs(ae,{variant:"destructive",className:"opacity-90",children:[t.jsx(_e,{className:"mr-1 h-3 w-3"}),"Sembunyikan"]}),e[14]=s.is_hidden,e[15]=o):o=e[15];let n;e[16]!==m||e[17]!==o?(n=t.jsxs("div",{className:"flex items-start gap-2 mb-4 flex-wrap",children:[m,o]}),e[16]=m,e[17]=o,e[18]=n):n=e[18];let d;e[19]!==s.title?(d=t.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-extrabold text-foreground leading-tight tracking-tight mb-6 max-w-4xl",children:s.title}),e[19]=s.title,e[20]=d):d=e[20];let c;e[21]!==s.user.name||e[22]!==s.user.profile_photo?(c=s.user.profile_photo&&t.jsx(pe,{src:`/storage/${s.user.profile_photo}`,alt:s.user.name,className:"object-cover"}),e[21]=s.user.name,e[22]=s.user.profile_photo,e[23]=c):c=e[23];let x;e[24]!==X?(x=t.jsx(fe,{className:`${a.bgLight} ${a.text} ${a.darkBgLight} ${a.darkText} font-semibold text-sm`,children:X}),e[24]=X,e[25]=x):x=e[25];let p;e[26]!==c||e[27]!==x?(p=t.jsxs(he,{className:"h-11 w-11 ring-1 ring-border shadow-xs",children:[c,x]}),e[26]=c,e[27]=x,e[28]=p):p=e[28];let f;e[29]!==s.user.name?(f=t.jsx("p",{className:"font-semibold text-foreground",children:s.user.name}),e[29]=s.user.name,e[30]=f):f=e[30];let h;e[31]!==s.user.specialization?(h=s.user.specialization&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:s.user.specialization}),t.jsx("span",{children:"â€¢"})]}),e[31]=s.user.specialization,e[32]=h):h=e[32];let U;e[33]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(ye,{className:"h-3 w-3"}),e[33]=U):U=e[33];let u;e[34]!==s.created_at?(u=Ee(s.created_at),e[34]=s.created_at,e[35]=u):u=e[35];let g;e[36]!==u?(g=t.jsxs("span",{className:"flex items-center gap-1",children:[U,u]}),e[36]=u,e[37]=g):g=e[37];let b;e[38]!==h||e[39]!==g?(b=t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[h,g]}),e[38]=h,e[39]=g,e[40]=b):b=e[40];let j;e[41]!==f||e[42]!==b?(j=t.jsxs("div",{children:[f,b]}),e[41]=f,e[42]=b,e[43]=j):j=e[43];let N;e[44]!==p||e[45]!==j?(N=t.jsxs("div",{className:"flex items-center gap-3",children:[p,j]}),e[44]=p,e[45]=j,e[46]=N):N=e[46];const Z=`${z} komentar`;let v;e[47]!==Z?(v=t.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:[{icon:se,label:Z}].map(He)}),e[47]=Z,e[48]=v):v=e[48];let _;e[49]!==N||e[50]!==v?(_=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[N,v]}),e[49]=N,e[50]=v,e[51]=_):_=e[51];let w;e[52]!==n||e[53]!==d||e[54]!==_?(w=t.jsxs("div",{className:"relative overflow-hidden bg-background border-b border-border/60",children:[K,F,R,J,t.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 py-6 md:px-6 md:py-10",children:[O,n,d,_]})]}),e[52]=n,e[53]=d,e[54]=_,e[55]=w):w=e[55];let k;e[56]!==s.content?(k=t.jsx("article",{className:"prose prose-neutral dark:prose-invert max-w-none text-foreground/90 leading-[1.8] text-[15px]",dangerouslySetInnerHTML:{__html:s.content}}),e[56]=s.content,e[57]=k):k=e[57];let y;e[58]!==s.attachments?(y=s.attachments?.length>0&&t.jsxs("div",{className:"mt-8 pt-6 border-t",children:[t.jsxs("h4",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(Te,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),"Lampiran (",s.attachments.length,")"]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:s.attachments.map(Ie)})]}),e[58]=s.attachments,e[59]=y):y=e[59];let $;e[60]!==k||e[61]!==y?($=t.jsxs(te,{className:"p-5 md:p-8",children:[k,y]}),e[60]=k,e[61]=y,e[62]=$):$=e[62];let W;e[63]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(le,{className:"pb-0 pt-5 px-5 md:px-8",children:t.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsx($e,{className:`h-4 w-4 ${a.text} ${a.darkText}`}),"Tulis Komentar"]})}),e[63]=W):W=e[63];let C;e[64]!==i?(C=t.jsxs("div",{className:"rounded-xl border bg-muted/20 dark:bg-muted/10 overflow-hidden transition-colors focus-within:border-[#1548d7]/40 focus-within:shadow-sm",children:[t.jsx(be,{editor:i}),t.jsx(xe,{editor:i})]}),e[64]=i,e[65]=C):C=e[65];let L;e[66]!==r?(L=r?t.jsx(Ce,{className:"mr-1.5 h-3.5 w-3.5 animate-spin"}):t.jsx(Le,{className:"mr-1.5 h-3.5 w-3.5"}),e[66]=r,e[67]=L):L=e[67];const ee=r?"Mengirim...":"Kirim Komentar";let S;e[68]!==Y||e[69]!==r||e[70]!==L||e[71]!==ee?(S=t.jsx("div",{className:"flex items-center justify-end",children:t.jsxs(ie,{className:`${a.bg} ${a.bgHover} text-white shadow-md text-xs h-8`,onClick:Y,disabled:r,children:[L,ee]})}),e[68]=Y,e[69]=r,e[70]=L,e[71]=ee,e[72]=S):S=e[72];let B;e[73]!==C||e[74]!==S?(B=t.jsx(te,{className:"p-5 md:px-8 md:pb-6",children:t.jsx("div",{className:"flex gap-3 items-start",children:t.jsxs("div",{className:"flex-1 space-y-3",children:[C,S]})})}),e[73]=C,e[74]=S,e[75]=B):B=e[75];let q;e[76]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{className:`rounded-lg p-1.5 ${a.bgLight} ${a.darkBgLight}`,children:t.jsx(se,{className:`h-4 w-4 ${a.text} ${a.darkText}`})}),e[76]=q):q=e[76];let T;e[77]!==z?(T=t.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2.5",children:[q,"Diskusi ",t.jsxs("span",{className:`text-sm font-normal ${a.text} ${a.darkText}`,children:["(",z,")"]})]}),e[77]=z,e[78]=T):T=e[78];let G;e[79]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(ae,{variant:"outline",className:"text-xs gap-1",children:[t.jsx(Se,{className:"h-3 w-3"}),"Terbaru"]}),e[79]=G):G=e[79];let A;e[80]!==T?(A=t.jsx(le,{className:"pb-2 px-5 md:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[T,G]})}),e[80]=T,e[81]=A):A=e[81];let D;e[82]!==s.comments||e[83]!==s.id?(D=t.jsx(te,{className:"px-5 md:px-8 pb-6",children:s.comments?.length>0?t.jsx("div",{className:"divide-y divide-border/60",children:s.comments.map(H=>t.jsx(Ne,{comment:H,postId:s.id},H.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsx("div",{className:`rounded-2xl p-5 ${a.bgLight} ${a.darkBgLight} mb-4`,children:t.jsx(se,{className:`h-10 w-10 ${a.text} ${a.darkText}`})}),t.jsx("p",{className:"font-semibold",children:"Belum ada komentar"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-xs",children:"Jadilah yang pertama memberikan tanggapan pada diskusi ini"})]})}),e[82]=s.comments,e[83]=s.id,e[84]=D):D=e[84];let E;e[85]!==$||e[86]!==B||e[87]!==A||e[88]!==D?(E=t.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 md:px-6 py-6",children:t.jsxs("div",{className:"flex flex-col gap-6 min-w-0",children:[$,W,B,A,D]})}),e[85]=$,e[86]=B,e[87]=A,e[88]=D,e[89]=E):E=e[89];let I;e[90]!==w||e[91]!==E?(I=t.jsxs("div",{className:"flex flex-col gap-0 p-0",children:[w,E]}),e[90]=w,e[91]=E,e[92]=I):I=e[92];let Q;e[93]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(ve,{}),e[93]=Q):Q=e[93];let V;return e[94]!==l||e[95]!==I?(V=t.jsxs(ue,{breadcrumbs:Ae,children:[l,I,Q]}),e[94]=l,e[95]=I,e[96]=V):V=e[96],V}function Ie(e){return t.jsx(ge,{attachment:e},e.id)}function He(e){return t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-full border border-border/50",children:[t.jsx(e.icon,{className:"h-4 w-4"}),e.label]},e.label)}function Pe(e){return t.jsx(ae,{variant:"secondary",className:"font-medium bg-muted text-muted-foreground hover:bg-muted/80",children:e.name},e.id)}export{vt as default};
