import{r as c,j as l,c as P,u as Z,a as $,H as J}from"./app-C-L-f7Cv.js";import{c as Q}from"./index-BqFw_WzI.js";import{e as U,a as k}from"./utils-BZan-CNl.js";import{c as I,u as X}from"./index-CyX7LRCO.js";import{R as Y,I as tt,e as F}from"./dropdown-menu-BdS-nXSh.js";import{P as et}from"./index-CzirVx36.js";import{b as at,u as rt}from"./index-DOXXiINL.js";import{A as ot}from"./app-layout-DymOOUoN.js";import{HeroBanner as nt}from"./HeroBanner-gnvuaw4l.js";import{PostEmptyState as st}from"./PostEmptyState-D8kloYWJ.js";import{PostFilterBar as it}from"./PostFilterBar-Ktz6ytAd.js";import{PostItem as lt}from"./PostItem-C2HT9goz.js";import{PostPagination as ct}from"./PostPagination-DJJy1bhn.js";import{TrendingSidebar as dt}from"./TrendingSidebar-CXLUZcXf.js";import"./app-DLAxlG54.js";import"./index-Cj9rIc1C.js";import"./index-C-6T25Ox.js";import"./loader-circle-Dldf86kZ.js";import"./index-CbIikgPx.js";import"./app-logo-icon-DKoKFrJm.js";import"./file-text-DqdgOMSr.js";import"./plus-D6sgujCW.js";import"./button-C6VLO9-n.js";import"./types-aaaP6Hrz.js";import"./search-DRa1eX9u.js";import"./input-kfKQS2T6.js";import"./select-2jndkZAi.js";import"./index-Bh29MTTW.js";import"./check-F-Enbf4o.js";import"./separator-DkzMCNTI.js";import"./index-LoxkdBUb.js";import"./arrow-up-narrow-wide-DKvWUBRl.js";import"./index-CVybVHt9.js";import"./avatar-DawbYWfF.js";import"./index-O-Ox_5vd.js";import"./badge-BmVfFTxy.js";import"./eye-off-d_V2vw1J.js";import"./flame-2UmOi4TI.js";import"./ellipsis-CONM3pno.js";import"./pencil-BYmKoCcg.js";import"./trash-2-C4iMCL4p.js";import"./calendar-B-2LndWS.js";import"./eye-o-BcRhNM.js";import"./message-circle-DSJZqAoz.js";import"./chevron-right-YESK-xFU.js";import"./card-CaTQA3-E.js";function ut(t,e=[]){let o=[];function a(n,s){const i=c.createContext(s),d=o.length;o=[...o,s];const p=u=>{const{scope:m,children:v,...g}=u,b=m?.[t]?.[d]||i,x=c.useMemo(()=>g,Object.values(g));return l.jsx(b.Provider,{value:x,children:v})};p.displayName=n+"Provider";function f(u,m){const v=m?.[t]?.[d]||i,g=c.useContext(v);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[p,f]}const r=()=>{const n=o.map(s=>c.createContext(s));return function(i){const d=i?.[t]||n;return c.useMemo(()=>({[`__scope${t}`]:{...i,[t]:d}}),[i,d])}};return r.scopeName=t,[a,pt(r,...e)]}function pt(...t){const e=t[0];if(t.length===1)return e;const o=()=>{const a=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const s=a.reduce((i,{useScope:d,scopeName:p})=>{const u=d(n)[`__scope${p}`];return{...i,...u}},{});return c.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return o.scopeName=e.scopeName,o}function ft(t){const e=mt(t),o=c.forwardRef((a,r)=>{const{children:n,...s}=a,i=c.Children.toArray(n),d=i.find(vt);if(d){const p=d.props.children,f=i.map(u=>u===d?c.Children.count(p)>1?c.Children.only(null):c.isValidElement(p)?p.props.children:null:u);return l.jsx(e,{...s,ref:r,children:c.isValidElement(p)?c.cloneElement(p,void 0,f):null})}return l.jsx(e,{...s,ref:r,children:n})});return o.displayName=`${t}.Slot`,o}function mt(t){const e=c.forwardRef((o,a)=>{const{children:r,...n}=o;if(c.isValidElement(r)){const s=ht(r),i=bt(n,r.props);return r.type!==c.Fragment&&(i.ref=a?U(a,s):s),c.cloneElement(r,i)}return c.Children.count(r)>1?c.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gt=Symbol("radix.slottable");function vt(t){return c.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gt}function bt(t,e){const o={...e};for(const a in e){const r=t[a],n=e[a];/^on[A-Z]/.test(a)?r&&n?o[a]=(...i)=>{const d=n(...i);return r(...i),d}:r&&(o[a]=r):a==="style"?o[a]={...r,...n}:a==="className"&&(o[a]=[r,n].filter(Boolean).join(" "))}return{...t,...o}}function ht(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning;return o?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var xt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w=xt.reduce((t,e)=>{const o=ft(`Primitive.${e}`),a=c.forwardRef((r,n)=>{const{asChild:s,...i}=r,d=s?o:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...i,ref:n})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),E="Tabs",[yt]=ut(E,[F]),M=F(),[St,A]=yt(E),z=c.forwardRef((t,e)=>{const{__scopeTabs:o,value:a,onValueChange:r,defaultValue:n,orientation:s="horizontal",dir:i,activationMode:d="automatic",...p}=t,f=at(i),[u,m]=X({prop:a,onChange:r,defaultProp:n??"",caller:E});return l.jsx(St,{scope:o,baseId:rt(),value:u,onValueChange:m,orientation:s,dir:f,activationMode:d,children:l.jsx(w.div,{dir:f,"data-orientation":s,...p,ref:e})})});z.displayName=E;var B="TabsList",L=c.forwardRef((t,e)=>{const{__scopeTabs:o,loop:a=!0,...r}=t,n=A(B,o),s=M(o);return l.jsx(Y,{asChild:!0,...s,orientation:n.orientation,dir:n.dir,loop:a,children:l.jsx(w.div,{role:"tablist","aria-orientation":n.orientation,...r,ref:e})})});L.displayName=B;var O="TabsTrigger",H=c.forwardRef((t,e)=>{const{__scopeTabs:o,value:a,disabled:r=!1,...n}=t,s=A(O,o),i=M(o),d=K(s.baseId,a),p=q(s.baseId,a),f=a===s.value;return l.jsx(tt,{asChild:!0,...i,focusable:!r,active:f,children:l.jsx(w.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...n,ref:e,onMouseDown:I(t.onMouseDown,u=>{!r&&u.button===0&&u.ctrlKey===!1?s.onValueChange(a):u.preventDefault()}),onKeyDown:I(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&s.onValueChange(a)}),onFocus:I(t.onFocus,()=>{const u=s.activationMode!=="manual";!f&&!r&&u&&s.onValueChange(a)})})})});H.displayName=O;var G="TabsContent",W=c.forwardRef((t,e)=>{const{__scopeTabs:o,value:a,forceMount:r,children:n,...s}=t,i=A(G,o),d=K(i.baseId,a),p=q(i.baseId,a),f=a===i.value,u=c.useRef(f);return c.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(et,{present:r||f,children:({present:m})=>l.jsx(w.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:p,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:m&&n})})});W.displayName=G;function K(t,e){return`${t}-trigger-${e}`}function q(t,e){return`${t}-content-${e}`}var _t=z,jt=L,Ct=H,Pt=W;function Tt(t){const e=P.c(10);let o,a,r;e[0]!==t?({className:o,orientation:r,...a}=t,e[0]=t,e[1]=o,e[2]=a,e[3]=r):(o=e[1],a=e[2],r=e[3]);const n=r===void 0?"horizontal":r;let s;e[4]!==o?(s=k("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",o),e[4]=o,e[5]=s):s=e[5];let i;return e[6]!==n||e[7]!==a||e[8]!==s?(i=l.jsx(_t,{"data-slot":"tabs","data-orientation":n,orientation:n,className:s,...a}),e[6]=n,e[7]=a,e[8]=s,e[9]=i):i=e[9],i}const Nt=Q("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function kt(t){const e=P.c(11);let o,a,r;e[0]!==t?({className:o,variant:r,...a}=t,e[0]=t,e[1]=o,e[2]=a,e[3]=r):(o=e[1],a=e[2],r=e[3]);const n=r===void 0?"default":r;let s;e[4]!==o||e[5]!==n?(s=k(Nt({variant:n}),o),e[4]=o,e[5]=n,e[6]=s):s=e[6];let i;return e[7]!==a||e[8]!==s||e[9]!==n?(i=l.jsx(jt,{"data-slot":"tabs-list","data-variant":n,className:s,...a}),e[7]=a,e[8]=s,e[9]=n,e[10]=i):i=e[10],i}function D(t){const e=P.c(8);let o,a;e[0]!==t?({className:o,...a}=t,e[0]=t,e[1]=o,e[2]=a):(o=e[1],a=e[2]);let r;e[3]!==o?(r=k("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",o),e[3]=o,e[4]=r):r=e[4];let n;return e[5]!==a||e[6]!==r?(n=l.jsx(Ct,{"data-slot":"tabs-trigger",className:r,...a}),e[5]=a,e[6]=r,e[7]=n):n=e[7],n}function V(t){const e=P.c(8);let o,a;e[0]!==t?({className:o,...a}=t,e[0]=t,e[1]=o,e[2]=a):(o=e[1],a=e[2]);let r;e[3]!==o?(r=k("flex-1 outline-none",o),e[3]=o,e[4]=r):r=e[4];let n;return e[5]!==a||e[6]!==r?(n=l.jsx(Pt,{"data-slot":"tabs-content",className:r,...a}),e[5]=a,e[6]=r,e[7]=n):n=e[7],n}const wt=[{title:"Dashboard",href:"/dashboard"},{title:"Diskusi",href:"/posts"}];function Ce(){const t=P.c(31),{posts:e,trendingPosts:o,filters:a}=Z().props,[r,n]=c.useState(a.search);let s;t[0]!==a?(s=R=>{const h={...a,...R},N={};h.search&&(N.search=h.search),h.sort&&h.sort!=="latest"&&(N.sort=h.sort),h.per_page&&h.per_page!==12&&(N.per_page=String(h.per_page)),$.get("/posts",N,{preserveState:!0,preserveScroll:!0})},t[0]=a,t[1]=s):s=t[1];const i=s;let d;t[2]!==i||t[3]!==r?(d=()=>{i({search:r})},t[2]=i,t[3]=r,t[4]=d):d=t[4];const p=d,f=Rt;let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{n(""),$.get("/posts",{},{preserveState:!0})},t[5]=u):u=t[5];const m=u;let v;t[6]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(J,{title:"Kelola Diskusi"}),t[6]=v):v=t[6];let g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(nt,{title:"Diskusikan.",subtitle:"Bagikan Ilmu Bersama.",description:"Forum kolaboratif bagi dokter dan tenaga medis untuk berdiskusi, berbagi pengetahuan klinis, dan meningkatkan kualitas pelayanan kesehatan."}),t[7]=g):g=t[7];let b;t[8]!==i||t[9]!==a||t[10]!==p||t[11]!==r?(b=l.jsx(it,{search:r,onSearchChange:n,onSearchSubmit:p,filters:a,onFilterChange:i}),t[8]=i,t[9]=a,t[10]=p,t[11]=r,t[12]=b):b=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsxs(kt,{className:"grid w-full grid-cols-2 lg:hidden mb-4",children:[l.jsx(D,{value:"feed",children:"Semua Diskusi"}),l.jsx(D,{value:"trending",children:"Trending"})]}),t[13]=x):x=t[13];let y;t[14]!==e.data?(y=e.data.length>0?l.jsx("div",{className:"divide-y-0",children:e.data.map(Et)}):l.jsx(st,{onReset:m}),t[14]=e.data,t[15]=y):y=t[15];let S;t[16]!==i||t[17]!==a.per_page||t[18]!==e?(S=e.data.length>0&&l.jsx(ct,{posts:e,perPage:a.per_page,onPageChange:f,onPerPageChange:R=>i({per_page:R})}),t[16]=i,t[17]=a.per_page,t[18]=e,t[19]=S):S=t[19];let _;t[20]!==y||t[21]!==S?(_=l.jsxs(V,{value:"feed",forceMount:!0,className:"mt-0 data-[state=inactive]:hidden lg:data-[state=inactive]:block border-r-0 lg:border-r border-border/60 pr-0 lg:pr-6",children:[y,S]}),t[20]=y,t[21]=S,t[22]=_):_=t[22];let j;t[23]!==o?(j=l.jsx(V,{value:"trending",forceMount:!0,className:"mt-0 data-[state=inactive]:hidden lg:data-[state=inactive]:block lg:sticky lg:top-14",children:l.jsx(dt,{trendingPosts:o})}),t[23]=o,t[24]=j):j=t[24];let C;t[25]!==j||t[26]!==_?(C=l.jsx("div",{className:"w-full",children:l.jsxs(Tt,{defaultValue:"feed",className:"w-full",children:[x,l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] items-start gap-0",children:[_,j]})]})}),t[25]=j,t[26]=_,t[27]=C):C=t[27];let T;return t[28]!==C||t[29]!==b?(T=l.jsxs(ot,{breadcrumbs:wt,children:[v,l.jsxs("div",{className:"flex flex-col gap-0",children:[g,b,C]})]}),t[28]=C,t[29]=b,t[30]=T):T=t[30],T}function Et(t){return l.jsx(lt,{post:t,canEdit:!1},t.id)}function Rt(t){t&&$.get(t,{},{preserveState:!0,preserveScroll:!0})}export{Ce as default};
