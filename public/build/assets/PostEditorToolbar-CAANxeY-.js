import{r as d,j as t,c as p}from"./app-DFZA_hNK.js";import{S as v}from"./separator-DnxQwfVr.js";import{B as x,I as k,U as j,S as A,H as N,a as w,b as y,L as H,c as b,Q as L,d as M,e as R}from"./underline-CvsZiy0R.js";import{c as l}from"./utils-CoIT5UQg.js";import{M as C}from"./minus-D-GCNYZu.js";import{L as _}from"./loader-circle-DAadlNag.js";/* empty css            */import"./index-uI_Q2F0i.js";const U=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],I=l("AlignCenter",U);const S=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],q=l("AlignLeft",S);const B=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],T=l("AlignRight",B);const $=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],z=l("Code",$);const E=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],O=l("Heading1",E);const P=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],D=l("Redo",P);const F=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Q=l("Undo",F);function V(e){const n=p.c(6),{onClick:o,isActive:r,disabled:g,title:u,children:h}=e,s=r===void 0?!1:r,i=g===void 0?!1:g,a=`inline-flex items-center justify-center rounded-md p-1.5 text-sm transition-colors disabled:opacity-40 ${s?"bg-[#1548d7]/10 text-[#1548d7] dark:bg-[#1548d7]/20 dark:text-[#6b93f5]":"text-muted-foreground hover:bg-muted hover:text-foreground"}`;let c;return n[0]!==h||n[1]!==i||n[2]!==o||n[3]!==a||n[4]!==u?(c=t.jsx("button",{type:"button",onClick:o,disabled:i,title:u,className:a,children:h}),n[0]=h,n[1]=i,n[2]=o,n[3]=a,n[4]=u,n[5]=c):c=n[5],c}function te({editor:e}){const n=d.useRef(null),[o,r]=d.useState(!1),g=d.useCallback(async s=>{const i=s.target.files?.[0];if(!i||!e)return;r(!0);const a=new FormData;a.append("image",i);try{const c=document.querySelector('meta[name="csrf-token"]')?.content??"",f=await fetch("/posts/upload-image",{method:"POST",headers:{"X-CSRF-TOKEN":c,Accept:"application/json"},body:a});if(!f.ok)return;const m=await f.json();m.url&&e.chain().focus().setImage({src:m.url}).run()}catch(c){console.error("Image upload failed:",c)}finally{r(!1),n.current&&(n.current.value="")}},[e]),u=d.useCallback(()=>{if(!e)return;const s=e.getAttributes("link").href,i=window.prompt("Masukkan URL:",s);if(i!==null){if(i===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:i}).run()}},[e]);if(!e)return null;const h=[[{icon:t.jsx(x,{className:"h-4 w-4"}),title:"Bold",action:()=>e.chain().focus().toggleBold().run(),active:e.isActive("bold")},{icon:t.jsx(k,{className:"h-4 w-4"}),title:"Italic",action:()=>e.chain().focus().toggleItalic().run(),active:e.isActive("italic")},{icon:t.jsx(j,{className:"h-4 w-4"}),title:"Underline",action:()=>e.chain().focus().toggleUnderline().run(),active:e.isActive("underline")},{icon:t.jsx(A,{className:"h-4 w-4"}),title:"Strikethrough",action:()=>e.chain().focus().toggleStrike().run(),active:e.isActive("strike")},{icon:t.jsx(z,{className:"h-4 w-4"}),title:"Code",action:()=>e.chain().focus().toggleCode().run(),active:e.isActive("code")},{icon:t.jsx(N,{className:"h-4 w-4"}),title:"Highlight",action:()=>e.chain().focus().toggleHighlight().run(),active:e.isActive("highlight")}],[{icon:t.jsx(O,{className:"h-4 w-4"}),title:"Heading 1",action:()=>e.chain().focus().toggleHeading({level:1}).run(),active:e.isActive("heading",{level:1})},{icon:t.jsx(w,{className:"h-4 w-4"}),title:"Heading 2",action:()=>e.chain().focus().toggleHeading({level:2}).run(),active:e.isActive("heading",{level:2})},{icon:t.jsx(y,{className:"h-4 w-4"}),title:"Heading 3",action:()=>e.chain().focus().toggleHeading({level:3}).run(),active:e.isActive("heading",{level:3})}],[{icon:t.jsx(H,{className:"h-4 w-4"}),title:"Bullet List",action:()=>e.chain().focus().toggleBulletList().run(),active:e.isActive("bulletList")},{icon:t.jsx(b,{className:"h-4 w-4"}),title:"Ordered List",action:()=>e.chain().focus().toggleOrderedList().run(),active:e.isActive("orderedList")},{icon:t.jsx(L,{className:"h-4 w-4"}),title:"Blockquote",action:()=>e.chain().focus().toggleBlockquote().run(),active:e.isActive("blockquote")},{icon:t.jsx(C,{className:"h-4 w-4"}),title:"Horizontal Rule",action:()=>e.chain().focus().setHorizontalRule().run(),active:!1}],[{icon:t.jsx(q,{className:"h-4 w-4"}),title:"Align Left",action:()=>e.chain().focus().setTextAlign("left").run(),active:e.isActive({textAlign:"left"})},{icon:t.jsx(I,{className:"h-4 w-4"}),title:"Align Center",action:()=>e.chain().focus().setTextAlign("center").run(),active:e.isActive({textAlign:"center"})},{icon:t.jsx(T,{className:"h-4 w-4"}),title:"Align Right",action:()=>e.chain().focus().setTextAlign("right").run(),active:e.isActive({textAlign:"right"})}],[{icon:t.jsx(M,{className:"h-4 w-4"}),title:"Link",action:u,active:e.isActive("link")},{icon:o?t.jsx(_,{className:"h-4 w-4 animate-spin"}):t.jsx(R,{className:"h-4 w-4"}),title:"Upload Gambar",action:()=>n.current?.click(),active:!1}],[{icon:t.jsx(Q,{className:"h-4 w-4"}),title:"Undo",action:()=>e.chain().focus().undo().run(),active:!1},{icon:t.jsx(D,{className:"h-4 w-4"}),title:"Redo",action:()=>e.chain().focus().redo().run(),active:!1}]];return t.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 border-b bg-muted/30 px-3 py-2 dark:bg-muted/10",children:[h.map((s,i)=>t.jsxs("div",{className:"flex items-center",children:[i>0&&t.jsx(v,{orientation:"vertical",className:"mx-1.5 h-6"}),s.map((a,c)=>t.jsx(V,{onClick:a.action,isActive:a.active,title:a.title,children:a.icon},c))]},i)),t.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:g})]})}export{te as PostEditorToolbar,V as ToolbarButton};
