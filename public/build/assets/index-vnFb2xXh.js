import{c as Xe,u as Ye,r as c,j as t,a as d,H as Ze}from"./app-Bcy3w5q3.js";import{B as et}from"./badge-DWLMs6ZS.js";import{B as o}from"./app-logo-icon-BVi2jwBU.js";import{C as Ke,a as Be,b as tt}from"./card-Cn8sJMh6.js";import{D as Ee,a as Oe,b as Pe,c as He,d as Le,e as Ie}from"./dialog-B_TrdBdP.js";import{I as we}from"./input-DIoMC04T.js";import{L as Ae}from"./label-DVQvDouO.js";import{S as Me,a as $e,b as ze,c as Re,d as H}from"./select-DiOCxcjB.js";import{T as ke,a as m,b as st,c as P,d as at,e as lt}from"./table-B4D6DH9N.js";import{A as rt}from"./app-layout-CEAfMjoY.js";import{F as Ve}from"./folder-open-Cuyn3jZD.js";import{P as Ue,T as it}from"./trash-2-BmEulAaf.js";import{L as Ce}from"./loader-circle-BjZxT_Yf.js";import{P as Je}from"./plus-lPf9Mro_.js";import{S as nt}from"./search-sOsYJec2.js";/* empty css            */import"./index-C6Aeq5NZ.js";import"./index-BZw_4-7P.js";import"./index-D6B8Kxfg.js";import"./check-b32_Vbni.js";import"./index-BDqSilVs.js";const ct=[{title:"Kategori",href:"/categories"}];function ot(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"—"}function Bt(){const e=Xe.c(106),{categories:l,filters:a}=Ye().props,[fe,qe]=c.useState(a.search),[ue,L]=c.useState(!1),[pe,I]=c.useState(!1),[A,De]=c.useState(null),[i,Te]=c.useState(""),[n,ge]=c.useState(""),[r,M]=c.useState(!1),[$,Fe]=c.useState(null);let z;e[0]!==a.per_page||e[1]!==a.sort?(z=s=>{qe(s),d.get("/categories",{search:s,sort:a.sort,per_page:a.per_page},{preserveState:!0,replace:!0})},e[0]=a.per_page,e[1]=a.sort,e[2]=z):z=e[2];const je=z;let R;e[3]!==a.per_page||e[4]!==a.search?(R=s=>{d.get("/categories",{search:a.search,sort:s,per_page:a.per_page},{preserveState:!0,replace:!0})},e[3]=a.per_page,e[4]=a.search,e[5]=R):R=e[5];const be=R;let V;e[6]!==a.search||e[7]!==a.sort?(V=s=>{d.get("/categories",{search:a.search,sort:a.sort,per_page:s},{preserveState:!0,replace:!0})},e[6]=a.search,e[7]=a.sort,e[8]=V):V=e[8];const Ne=V;let U;e[9]!==i?(U=s=>{s.preventDefault(),i.trim()&&(M(!0),d.post("/categories",{name:i.trim()},{preserveScroll:!0,onSuccess:()=>{L(!1),Te("")},onFinish:()=>M(!1)}))},e[9]=i,e[10]=U):U=e[10];const Se=U;let J;e[11]===Symbol.for("react.memo_cache_sentinel")?(J=s=>{De(s),ge(s.name),I(!0)},e[11]=J):J=e[11];const Ge=J;let q;e[12]!==n||e[13]!==A?(q=s=>{s.preventDefault(),!(!A||!n.trim())&&(M(!0),d.put(`/categories/${A.id}`,{name:n.trim()},{preserveScroll:!0,onSuccess:()=>{I(!1),De(null),ge("")},onFinish:()=>M(!1)}))},e[12]=n,e[13]=A,e[14]=q):q=e[14];const ve=q;let G;e[15]===Symbol.for("react.memo_cache_sentinel")?(G=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&(Fe(s),d.delete(`/categories/${s}`,{preserveScroll:!0,onFinish:()=>Fe(null)}))},e[15]=G):G=e[15];const Qe=G,We=mt;let Q;e[16]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Ze,{title:"Kategori"}),e[16]=Q):Q=e[16];let W;e[17]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kategori"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Kelola kategori untuk diskusi di forum"})]}),e[17]=W):W=e[17];let X;e[18]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[W,t.jsxs(o,{className:"bg-[#1548d7] hover:bg-[#1240b8] text-white gap-2",onClick:()=>L(!0),children:[t.jsx(Je,{className:"h-4 w-4"}),"Tambah Kategori"]})]}),e[18]=X):X=e[18];let Y;e[19]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[19]=Y):Y=e[19];let h;e[20]!==je?(h=s=>je(s.target.value),e[20]=je,e[21]=h):h=e[21];let x;e[22]!==fe||e[23]!==h?(x=t.jsxs("div",{className:"relative flex-1",children:[Y,t.jsx(we,{placeholder:"Cari kategori...",value:fe,onChange:h,className:"pl-9"})]}),e[22]=fe,e[23]=h,e[24]=x):x=e[24];let Z;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx($e,{className:"w-[140px]",children:t.jsx(ze,{})}),e[25]=Z):Z=e[25];let ee;e[26]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs(Re,{children:[t.jsx(H,{value:"latest",children:"Terbaru"}),t.jsx(H,{value:"oldest",children:"Terlama"})]}),e[26]=ee):ee=e[26];let f;e[27]!==a.sort||e[28]!==be?(f=t.jsxs(Me,{value:a.sort,onValueChange:be,children:[Z,ee]}),e[27]=a.sort,e[28]=be,e[29]=f):f=e[29];const ye=String(a.per_page);let te;e[30]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx($e,{className:"w-[100px]",children:t.jsx(ze,{})}),e[30]=te):te=e[30];let se;e[31]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs(Re,{children:[t.jsx(H,{value:"10",children:"10"}),t.jsx(H,{value:"25",children:"25"}),t.jsx(H,{value:"50",children:"50"})]}),e[31]=se):se=e[31];let u;e[32]!==Ne||e[33]!==ye?(u=t.jsxs(Me,{value:ye,onValueChange:Ne,children:[te,se]}),e[32]=Ne,e[33]=ye,e[34]=u):u=e[34];let p;e[35]!==f||e[36]!==u?(p=t.jsxs("div",{className:"flex gap-2",children:[f,u]}),e[35]=f,e[36]=u,e[37]=p):p=e[37];let g;e[38]!==x||e[39]!==p?(g=t.jsx(Ke,{className:"border-0 shadow-md",children:t.jsx(Be,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[x,p]})})}),e[38]=x,e[39]=p,e[40]=g):g=e[40];let ae;e[41]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(tt,{className:"sr-only",children:t.jsx("h2",{children:"Daftar Kategori"})}),e[41]=ae):ae=e[41];let le;e[42]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(st,{children:t.jsxs(ke,{className:"bg-muted/30 hover:bg-muted/30",children:[t.jsx(P,{className:"w-[60px] text-center",children:"#"}),t.jsx(P,{children:"Nama"}),t.jsx(P,{children:"Slug"}),t.jsx(P,{className:"text-center",children:"Jumlah Diskusi"}),t.jsx(P,{children:"Tanggal Dibuat"}),t.jsx(P,{className:"text-center w-[120px]",children:"Aksi"})]})}),e[42]=le):le=e[42];let j;e[43]!==l.data||e[44]!==l.meta?.from||e[45]!==$?(j=l.data.length>0?l.data.map((s,_e)=>t.jsxs(ke,{className:"group",children:[t.jsx(m,{className:"text-center text-muted-foreground text-sm",children:(l.meta?.from??1)+_e}),t.jsx(m,{children:t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-[#1548d7]/10 dark:bg-[#6b93f5]/10",children:t.jsx(Ve,{className:"h-4 w-4 text-[#1548d7] dark:text-[#6b93f5]"})}),t.jsx("span",{className:"font-medium",children:s.name})]})}),t.jsx(m,{children:t.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs text-muted-foreground",children:s.slug})}),t.jsx(m,{className:"text-center",children:t.jsxs(et,{variant:"secondary",className:"text-xs",children:[s.posts_count," diskusi"]})}),t.jsx(m,{className:"text-sm text-muted-foreground",children:ot(s.created_at)}),t.jsx(m,{children:t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>Ge(s),children:t.jsx(Ue,{className:"h-3.5 w-3.5"})}),t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>Qe(s.id),disabled:$===s.id,children:$===s.id?t.jsx(Ce,{className:"h-3.5 w-3.5 animate-spin"}):t.jsx(it,{className:"h-3.5 w-3.5"})})]})})]},s.id)):t.jsx(ke,{children:t.jsxs(m,{colSpan:6,className:"text-center py-12",children:[t.jsx(Ve,{className:"mx-auto h-10 w-10 text-muted-foreground/30 mb-3"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada kategori"})]})}),e[43]=l.data,e[44]=l.meta?.from,e[45]=$,e[46]=j):j=e[46];let b;e[47]!==j?(b=t.jsx(Be,{className:"p-0",children:t.jsxs(at,{children:[le,t.jsx(lt,{children:j})]})}),e[47]=j,e[48]=b):b=e[48];let N;e[49]!==l.links||e[50]!==l.meta?.from||e[51]!==l.meta?.to||e[52]!==l.meta?.total?(N=l.links&&l.links.length>3&&t.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Menampilkan ",l.meta?.from??0,"–",l.meta?.to??0," dari"," ",l.meta?.total??0]}),t.jsx("div",{className:"flex items-center gap-1",children:l.links.map((s,_e)=>t.jsx(o,{variant:s.active?"default":"outline",size:"sm",className:`h-8 min-w-8 text-xs ${s.active?"bg-[#1548d7] hover:bg-[#1240b8]":""}`,disabled:!s.url,onClick:()=>We(s.url),dangerouslySetInnerHTML:{__html:s.label}},_e))})]}),e[49]=l.links,e[50]=l.meta?.from,e[51]=l.meta?.to,e[52]=l.meta?.total,e[53]=N):N=e[53];let S;e[54]!==b||e[55]!==N?(S=t.jsxs(Ke,{className:"border-0 shadow-md overflow-hidden",children:[ae,b,N]}),e[54]=b,e[55]=N,e[56]=S):S=e[56];let v;e[57]!==g||e[58]!==S?(v=t.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[X,g,S]}),e[57]=g,e[58]=S,e[59]=v):v=e[59];let re;e[60]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(Ee,{children:[t.jsx(Oe,{children:"Tambah Kategori"}),t.jsx(Pe,{children:"Buat kategori baru untuk diskusi forum."})]}),e[60]=re):re=e[60];let ie;e[61]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Ae,{htmlFor:"create-name",children:"Nama Kategori"}),e[61]=ie):ie=e[61];let ne;e[62]===Symbol.for("react.memo_cache_sentinel")?(ne=s=>Te(s.target.value),e[62]=ne):ne=e[62];let y;e[63]!==i?(y=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[ie,t.jsx(we,{id:"create-name",placeholder:"Masukkan nama kategori",value:i,onChange:ne,autoFocus:!0})]})}),e[63]=i,e[64]=y):y=e[64];let ce;e[65]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(o,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Batal"}),e[65]=ce):ce=e[65];let _;e[66]!==i||e[67]!==r?(_=r||!i.trim(),e[66]=i,e[67]=r,e[68]=_):_=e[68];let w;e[69]!==r?(w=r?t.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Je,{className:"mr-2 h-4 w-4"}),e[69]=r,e[70]=w):w=e[70];let k;e[71]!==_||e[72]!==w?(k=t.jsxs(He,{children:[ce,t.jsxs(o,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:_,children:[w,"Simpan"]})]}),e[71]=_,e[72]=w,e[73]=k):k=e[73];let C;e[74]!==Se||e[75]!==y||e[76]!==k?(C=t.jsxs(Le,{className:"sm:max-w-md",children:[re,t.jsxs("form",{onSubmit:Se,children:[y,k]})]}),e[74]=Se,e[75]=y,e[76]=k,e[77]=C):C=e[77];let D;e[78]!==ue||e[79]!==C?(D=t.jsx(Ie,{open:ue,onOpenChange:L,children:C}),e[78]=ue,e[79]=C,e[80]=D):D=e[80];let oe;e[81]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs(Ee,{children:[t.jsx(Oe,{children:"Edit Kategori"}),t.jsx(Pe,{children:"Ubah nama kategori yang sudah ada."})]}),e[81]=oe):oe=e[81];let me;e[82]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ae,{htmlFor:"edit-name",children:"Nama Kategori"}),e[82]=me):me=e[82];let de;e[83]===Symbol.for("react.memo_cache_sentinel")?(de=s=>ge(s.target.value),e[83]=de):de=e[83];let T;e[84]!==n?(T=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[me,t.jsx(we,{id:"edit-name",placeholder:"Masukkan nama kategori",value:n,onChange:de,autoFocus:!0})]})}),e[84]=n,e[85]=T):T=e[85];let he;e[86]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(o,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Batal"}),e[86]=he):he=e[86];let F;e[87]!==n||e[88]!==r?(F=r||!n.trim(),e[87]=n,e[88]=r,e[89]=F):F=e[89];let K;e[90]!==r?(K=r?t.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Ue,{className:"mr-2 h-4 w-4"}),e[90]=r,e[91]=K):K=e[91];let B;e[92]!==F||e[93]!==K?(B=t.jsxs(He,{children:[he,t.jsxs(o,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:F,children:[K,"Simpan"]})]}),e[92]=F,e[93]=K,e[94]=B):B=e[94];let E;e[95]!==ve||e[96]!==T||e[97]!==B?(E=t.jsxs(Le,{className:"sm:max-w-md",children:[oe,t.jsxs("form",{onSubmit:ve,children:[T,B]})]}),e[95]=ve,e[96]=T,e[97]=B,e[98]=E):E=e[98];let O;e[99]!==pe||e[100]!==E?(O=t.jsx(Ie,{open:pe,onOpenChange:I,children:E}),e[99]=pe,e[100]=E,e[101]=O):O=e[101];let xe;return e[102]!==v||e[103]!==D||e[104]!==O?(xe=t.jsxs(rt,{breadcrumbs:ct,children:[Q,v,D,O]}),e[102]=v,e[103]=D,e[104]=O,e[105]=xe):xe=e[105],xe}function mt(e){e&&d.get(e,{},{preserveState:!0})}export{Bt as default};
