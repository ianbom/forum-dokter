import{c as tt,u as st,r as o,j as t,a as d,H as at}from"./app-C-L-f7Cv.js";import{B as lt}from"./badge-BmVfFTxy.js";import{B as c}from"./button-C6VLO9-n.js";import{C as He,a as rt,b as it}from"./card-CaTQA3-E.js";import{D as Le,a as Ie,b as Ae,c as Me,d as ze,e as $e}from"./dialog-BiXwLOQL.js";import{I as Ke}from"./input-kfKQS2T6.js";import{L as Re}from"./label-BijX0_O3.js";import{S as Ve,a as Ue,b as Je,c as qe,d as H}from"./select-2jndkZAi.js";import{T as Fe,a as m,b as nt,c as O,d as ot,e as ct}from"./table-BXoE3jHs.js";import{A as mt}from"./app-layout-DymOOUoN.js";import{P as Ge}from"./pencil-BYmKoCcg.js";import{L as Be}from"./loader-circle-Dldf86kZ.js";import{T as dt}from"./trash-2-C4iMCL4p.js";import{F as Qe}from"./folder-open-1CGYMCYj.js";import{P as We}from"./plus-D6sgujCW.js";import{S as ht}from"./search-DRa1eX9u.js";import"./app-DLAxlG54.js";import"./utils-BZan-CNl.js";import"./index-BqFw_WzI.js";import"./index-CVybVHt9.js";import"./index-CyX7LRCO.js";import"./index-Cj9rIc1C.js";import"./index-DOXXiINL.js";import"./index-C-6T25Ox.js";import"./index-CzirVx36.js";import"./x-Bt6brddw.js";import"./index-LoxkdBUb.js";import"./index-Bh29MTTW.js";import"./index-CbIikgPx.js";import"./check-F-Enbf4o.js";import"./dropdown-menu-BdS-nXSh.js";import"./app-logo-icon-DKoKFrJm.js";import"./file-text-DqdgOMSr.js";const xt=[{title:"Kategori",href:"/categories"}];function ft(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"—"}function Qt(){const e=tt.c(111),{categories:l,filters:a}=st().props,[be,Xe]=o.useState(a.search),[Ne,L]=o.useState(!1),[ve,I]=o.useState(!1),[A,Pe]=o.useState(null),[i,Ee]=o.useState(""),[n,Se]=o.useState(""),[r,M]=o.useState(!1),[z,Oe]=o.useState(null);let $;e[0]!==a.per_page||e[1]!==a.sort?($=s=>{Xe(s),d.get("/categories",{search:s,sort:a.sort,per_page:a.per_page},{preserveState:!0,replace:!0})},e[0]=a.per_page,e[1]=a.sort,e[2]=$):$=e[2];const _e=$;let R;e[3]!==a.per_page||e[4]!==a.search?(R=s=>{d.get("/categories",{search:a.search,sort:s,per_page:a.per_page},{preserveState:!0,replace:!0})},e[3]=a.per_page,e[4]=a.search,e[5]=R):R=e[5];const ye=R;let V;e[6]!==a.search||e[7]!==a.sort?(V=s=>{d.get("/categories",{search:a.search,sort:a.sort,per_page:s},{preserveState:!0,replace:!0})},e[6]=a.search,e[7]=a.sort,e[8]=V):V=e[8];const we=V;let U;e[9]!==i?(U=s=>{s.preventDefault(),i.trim()&&(M(!0),d.post("/categories",{name:i.trim()},{preserveScroll:!0,onSuccess:()=>{L(!1),Ee("")},onFinish:()=>M(!1)}))},e[9]=i,e[10]=U):U=e[10];const ke=U;let J;e[11]===Symbol.for("react.memo_cache_sentinel")?(J=s=>{Pe(s),Se(s.name),I(!0)},e[11]=J):J=e[11];const Ye=J;let q;e[12]!==n||e[13]!==A?(q=s=>{s.preventDefault(),!(!A||!n.trim())&&(M(!0),d.put(`/categories/${A.id}`,{name:n.trim()},{preserveScroll:!0,onSuccess:()=>{I(!1),Pe(null),Se("")},onFinish:()=>M(!1)}))},e[12]=n,e[13]=A,e[14]=q):q=e[14];const Ce=q;let G;e[15]===Symbol.for("react.memo_cache_sentinel")?(G=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&(Oe(s),d.delete(`/categories/${s}`,{preserveScroll:!0,onFinish:()=>Oe(null)}))},e[15]=G):G=e[15];const Ze=G,et=ut;let Q;e[16]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(at,{title:"Kategori"}),e[16]=Q):Q=e[16];let W,X,Y,Z;e[17]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px]"}),Z=t.jsx("div",{className:"pointer-events-none absolute -top-40 right-0 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),W=t.jsx("div",{className:"pointer-events-none absolute -bottom-40 -left-10 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl"}),X=t.jsx("div",{className:"pointer-events-none absolute top-1/4 left-1/3 h-48 w-48 rounded-full bg-indigo-500/5 blur-3xl"}),e[17]=W,e[18]=X,e[19]=Y,e[20]=Z):(W=e[17],X=e[18],Y=e[19],Z=e[20]);let ee;e[21]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Qe,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Manajemen Kategori"})]}),e[21]=ee):ee=e[21];let te;e[22]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-foreground",children:"Kategori Diskusi"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-lg",children:"Kelola berbagai kategori topik yang tersedia untuk memudahkan pengelompokan diskusi di forum."})]}),e[22]=te):te=e[22];let se;e[23]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("div",{className:"relative overflow-hidden bg-background border-b border-border/60",children:[Y,Z,W,X,t.jsxs("div",{className:"relative mx-auto w-full px-5 py-8 md:px-8 md:py-10",children:[ee,t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[te,t.jsxs(c,{className:"bg-[#1548d7] hover:bg-[#1240b8] text-white shadow-md self-start sm:self-auto shrink-0",onClick:()=>L(!0),children:[t.jsx(We,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]})]})]}),e[23]=se):se=e[23];let ae;e[24]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[24]=ae):ae=e[24];let h;e[25]!==_e?(h=s=>_e(s.target.value),e[25]=_e,e[26]=h):h=e[26];let x;e[27]!==be||e[28]!==h?(x=t.jsxs("div",{className:"relative flex-1",children:[ae,t.jsx(Ke,{placeholder:"Cari kategori...",value:be,onChange:h,className:"pl-9"})]}),e[27]=be,e[28]=h,e[29]=x):x=e[29];let le;e[30]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ue,{className:"w-[140px]",children:t.jsx(Je,{})}),e[30]=le):le=e[30];let re;e[31]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(qe,{children:[t.jsx(H,{value:"latest",children:"Terbaru"}),t.jsx(H,{value:"oldest",children:"Terlama"})]}),e[31]=re):re=e[31];let f;e[32]!==a.sort||e[33]!==ye?(f=t.jsxs(Ve,{value:a.sort,onValueChange:ye,children:[le,re]}),e[32]=a.sort,e[33]=ye,e[34]=f):f=e[34];const De=String(a.per_page);let ie;e[35]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Ue,{className:"w-[100px]",children:t.jsx(Je,{})}),e[35]=ie):ie=e[35];let ne;e[36]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs(qe,{children:[t.jsx(H,{value:"10",children:"10"}),t.jsx(H,{value:"25",children:"25"}),t.jsx(H,{value:"50",children:"50"})]}),e[36]=ne):ne=e[36];let u;e[37]!==we||e[38]!==De?(u=t.jsxs(Ve,{value:De,onValueChange:we,children:[ie,ne]}),e[37]=we,e[38]=De,e[39]=u):u=e[39];let p;e[40]!==f||e[41]!==u?(p=t.jsxs("div",{className:"flex gap-2",children:[f,u]}),e[40]=f,e[41]=u,e[42]=p):p=e[42];let g;e[43]!==x||e[44]!==p?(g=t.jsx(He,{className:"p-0 sm:p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[x,p]})}),e[43]=x,e[44]=p,e[45]=g):g=e[45];let oe;e[46]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(rt,{className:"sr-only",children:t.jsx("h2",{children:"Daftar Kategori"})}),e[46]=oe):oe=e[46];let ce;e[47]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(nt,{children:t.jsxs(Fe,{className:"bg-muted/30 hover:bg-muted/30",children:[t.jsx(O,{className:"w-[60px] text-center",children:"#"}),t.jsx(O,{children:"Nama"}),t.jsx(O,{children:"Slug"}),t.jsx(O,{className:"text-center",children:"Jumlah Diskusi"}),t.jsx(O,{children:"Tanggal Dibuat"}),t.jsx(O,{className:"text-center w-[120px]",children:"Aksi"})]})}),e[47]=ce):ce=e[47];let j;e[48]!==l.data||e[49]!==l.meta?.from||e[50]!==z?(j=l.data.length>0?l.data.map((s,Te)=>t.jsxs(Fe,{className:"group",children:[t.jsx(m,{className:"text-center text-muted-foreground text-sm",children:(l.meta?.from??1)+Te}),t.jsx(m,{children:t.jsx("div",{className:"flex items-center gap-2.5",children:t.jsx("span",{className:"font-medium",children:s.name})})}),t.jsx(m,{children:t.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs text-muted-foreground",children:s.slug})}),t.jsx(m,{className:"text-center",children:t.jsxs(lt,{variant:"secondary",className:"text-xs",children:[s.posts_count," diskusi"]})}),t.jsx(m,{className:"text-sm text-muted-foreground",children:ft(s.created_at)}),t.jsx(m,{children:t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>Ye(s),children:t.jsx(Ge,{className:"h-3.5 w-3.5"})}),t.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>Ze(s.id),disabled:z===s.id,children:z===s.id?t.jsx(Be,{className:"h-3.5 w-3.5 animate-spin"}):t.jsx(dt,{className:"h-3.5 w-3.5"})})]})})]},s.id)):t.jsx(Fe,{children:t.jsxs(m,{colSpan:6,className:"text-center py-12",children:[t.jsx(Qe,{className:"mx-auto h-10 w-10 text-muted-foreground/30 mb-3"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada kategori"})]})}),e[48]=l.data,e[49]=l.meta?.from,e[50]=z,e[51]=j):j=e[51];let b;e[52]!==j?(b=t.jsx(He,{className:"p-0",children:t.jsxs(ot,{children:[ce,t.jsx(ct,{children:j})]})}),e[52]=j,e[53]=b):b=e[53];let N;e[54]!==l.links||e[55]!==l.meta?.from||e[56]!==l.meta?.to||e[57]!==l.meta?.total?(N=l.links&&l.links.length>3&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 border-t px-4 py-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground text-center sm:text-left",children:["Menampilkan ",l.meta?.from??0,"–",l.meta?.to??0," dari"," ",l.meta?.total??0]}),t.jsx("div",{className:"flex items-center gap-1",children:l.links.map((s,Te)=>t.jsx(c,{variant:s.active?"default":"outline",size:"sm",className:`h-8 min-w-8 text-xs ${s.active?"bg-[#1548d7] hover:bg-[#1240b8]":""}`,disabled:!s.url,onClick:()=>et(s.url),dangerouslySetInnerHTML:{__html:s.label}},Te))})]}),e[54]=l.links,e[55]=l.meta?.from,e[56]=l.meta?.to,e[57]=l.meta?.total,e[58]=N):N=e[58];let v;e[59]!==b||e[60]!==N?(v=t.jsxs(it,{className:"border-0 shadow-md overflow-hidden",children:[oe,b,N]}),e[59]=b,e[60]=N,e[61]=v):v=e[61];let S;e[62]!==g||e[63]!==v?(S=t.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[g,v]}),e[62]=g,e[63]=v,e[64]=S):S=e[64];let me;e[65]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(Le,{children:[t.jsx(Ie,{children:"Tambah Kategori"}),t.jsx(Ae,{children:"Buat kategori baru untuk diskusi forum."})]}),e[65]=me):me=e[65];let de;e[66]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Re,{htmlFor:"create-name",children:"Nama Kategori"}),e[66]=de):de=e[66];let he;e[67]===Symbol.for("react.memo_cache_sentinel")?(he=s=>Ee(s.target.value),e[67]=he):he=e[67];let _;e[68]!==i?(_=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[de,t.jsx(Ke,{id:"create-name",placeholder:"Masukkan nama kategori",value:i,onChange:he,autoFocus:!0})]})}),e[68]=i,e[69]=_):_=e[69];let xe;e[70]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(c,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Batal"}),e[70]=xe):xe=e[70];let y;e[71]!==i||e[72]!==r?(y=r||!i.trim(),e[71]=i,e[72]=r,e[73]=y):y=e[73];let w;e[74]!==r?(w=r?t.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(We,{className:"mr-2 h-4 w-4"}),e[74]=r,e[75]=w):w=e[75];let k;e[76]!==y||e[77]!==w?(k=t.jsxs(Me,{children:[xe,t.jsxs(c,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:y,children:[w,"Simpan"]})]}),e[76]=y,e[77]=w,e[78]=k):k=e[78];let C;e[79]!==ke||e[80]!==_||e[81]!==k?(C=t.jsxs(ze,{className:"sm:max-w-md",children:[me,t.jsxs("form",{onSubmit:ke,children:[_,k]})]}),e[79]=ke,e[80]=_,e[81]=k,e[82]=C):C=e[82];let D;e[83]!==Ne||e[84]!==C?(D=t.jsx($e,{open:Ne,onOpenChange:L,children:C}),e[83]=Ne,e[84]=C,e[85]=D):D=e[85];let fe;e[86]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(Le,{children:[t.jsx(Ie,{children:"Edit Kategori"}),t.jsx(Ae,{children:"Ubah nama kategori yang sudah ada."})]}),e[86]=fe):fe=e[86];let ue;e[87]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Re,{htmlFor:"edit-name",children:"Nama Kategori"}),e[87]=ue):ue=e[87];let pe;e[88]===Symbol.for("react.memo_cache_sentinel")?(pe=s=>Se(s.target.value),e[88]=pe):pe=e[88];let T;e[89]!==n?(T=t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[ue,t.jsx(Ke,{id:"edit-name",placeholder:"Masukkan nama kategori",value:n,onChange:pe,autoFocus:!0})]})}),e[89]=n,e[90]=T):T=e[90];let ge;e[91]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(c,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Batal"}),e[91]=ge):ge=e[91];let K;e[92]!==n||e[93]!==r?(K=r||!n.trim(),e[92]=n,e[93]=r,e[94]=K):K=e[94];let F;e[95]!==r?(F=r?t.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Ge,{className:"mr-2 h-4 w-4"}),e[95]=r,e[96]=F):F=e[96];let B;e[97]!==K||e[98]!==F?(B=t.jsxs(Me,{children:[ge,t.jsxs(c,{type:"submit",className:"bg-[#1548d7] hover:bg-[#1240b8] text-white",disabled:K,children:[F,"Simpan Perubahan"]})]}),e[97]=K,e[98]=F,e[99]=B):B=e[99];let P;e[100]!==Ce||e[101]!==T||e[102]!==B?(P=t.jsxs(ze,{className:"sm:max-w-md",children:[fe,t.jsxs("form",{onSubmit:Ce,children:[T,B]})]}),e[100]=Ce,e[101]=T,e[102]=B,e[103]=P):P=e[103];let E;e[104]!==ve||e[105]!==P?(E=t.jsx($e,{open:ve,onOpenChange:I,children:P}),e[104]=ve,e[105]=P,e[106]=E):E=e[106];let je;return e[107]!==S||e[108]!==D||e[109]!==E?(je=t.jsxs(mt,{breadcrumbs:xt,children:[Q,t.jsxs("div",{className:"flex flex-col gap-0",children:[se,S,D,E]})]}),e[107]=S,e[108]=D,e[109]=E,e[110]=je):je=e[110],je}function ut(e){e&&d.get(e,{},{preserveState:!0})}export{Qt as default};
